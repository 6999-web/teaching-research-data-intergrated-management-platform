# 教研室数据管理平台 - 系统账号密码清单

## 📅 更新时间
2026年2月14日

---

## 🔐 当前有效的测试账号

### 方案一：简化测试账号（推荐用于快速测试）

#### 1. 教研室端
| 用户名 | 密码 | 角色 | 姓名 | 说明 |
|--------|------|------|------|------|
| `123` | `123` | teaching_office | Teaching Office User | 简化测试账号 |

#### 2. 管理端 - 考评小组
| 用户名 | 密码 | 角色 | 姓名 | 说明 |
|--------|------|------|------|------|
| `admin` | `123` | evaluation_team | Evaluation Team User | 简化测试账号 |

---

### 方案二：完整测试账号（推荐用于完整功能测试）

#### 1. 教研室端账号（3个）
| 用户名 | 密码 | 角色 | 姓名 | 所属教研室 | 邮箱 |
|--------|------|------|------|-----------|------|
| `director1` | `password123` | teaching_office | 张主任 | 计算机科学教研室 | director1@example.com |
| `director2` | `password123` | teaching_office | 李主任 | 数学教研室 | director2@example.com |
| `director3` | `password123` | teaching_office | 王主任 | 物理教研室 | director3@example.com |

#### 2. 考评小组账号（2个）
| 用户名 | 密码 | 角色 | 姓名 | 邮箱 |
|--------|------|------|------|------|
| `evaluator1` | `password123` | evaluation_team | 评委张老师 | evaluator1@example.com |
| `evaluator2` | `password123` | evaluation_team | 评委李老师 | evaluator2@example.com |

#### 3. 评教小组办公室账号（1个）
| 用户名 | 密码 | 角色 | 姓名 | 邮箱 |
|--------|------|------|------|------|
| `office1` | `password123` | evaluation_office | 办公室主任 | office1@example.com |

#### 4. 校长办公会账号（1个）
| 用户名 | 密码 | 角色 | 姓名 | 邮箱 |
|--------|------|------|------|------|
| `president1` | `password123` | president_office | 校长 | president1@example.com |

---

## 🎯 登录方式

### 教研室端登录
1. 访问：http://localhost:3000
2. 点击"教研室端"卡片
3. 输入用户名和密码
4. 点击"登录"

**推荐账号**：
- 快速测试：`123` / `123`
- 完整测试：`director1` / `password123`

---

### 管理端登录
1. 访问：http://localhost:3000
2. 点击"管理端"卡片
3. 输入用户名和密码
4. **选择角色**（重要！）
   - 评教小组
   - 评教小组办公室
   - 校长办公会
5. 点击"登录"

**推荐账号**：
- 快速测试：`admin` / `123` （选择"评教小组"）
- 完整测试：
  - 考评小组：`evaluator1` / `password123`
  - 办公室：`office1` / `password123`
  - 校长办公会：`president1` / `password123`

---

## 📊 角色权限说明

### 1. teaching_office（教研室端）
**权限**：
- ✅ 填写自评表
- ✅ 上传附件
- ✅ 查看自评结果
- ✅ 查看AI评分
- ✅ 查看手动评分
- ✅ 查看最终得分
- ✅ 制定改进计划

**访问页面**：
- 教研室主页
- 自评表填写
- 附件上传
- 结果查看
- 改进计划

---

### 2. evaluation_team（考评小组）
**权限**：
- ✅ 查看所有教研室自评表
- ✅ 进行手动评分
- ✅ 查看AI评分
- ✅ 处理异常情况
- ✅ 审核评分结果

**访问页面**：
- 管理端主页
- 手动评分
- 结果查看
- 异常处理

---

### 3. evaluation_office（评教小组办公室）
**权限**：
- ✅ 查看所有评分数据
- ✅ 生成最终得分
- ✅ 发布评分结果
- ✅ 数据统计分析
- ✅ 导出报表

**访问页面**：
- 管理端主页
- 最终得分
- 数据统计
- 结果发布

---

### 4. president_office（校长办公会）
**权限**：
- ✅ 查看所有评分数据
- ✅ 查看最终得分
- ✅ 审批评分结果
- ✅ 查看数据大屏
- ✅ 查看改进计划

**访问页面**：
- 校长办公会主页
- 数据大屏
- 结果审批
- 改进计划查看

---

## 🔧 API测试命令

### 测试教研室端登录
```powershell
Invoke-RestMethod -Uri "http://localhost:8000/api/auth/login" -Method POST -ContentType "application/json" -Body '{"username":"123","password":"123","role":"teaching_office"}'
```

或使用完整账号：
```powershell
Invoke-RestMethod -Uri "http://localhost:8000/api/auth/login" -Method POST -ContentType "application/json" -Body '{"username":"director1","password":"password123","role":"teaching_office"}'
```

---

### 测试考评小组登录
```powershell
Invoke-RestMethod -Uri "http://localhost:8000/api/auth/login" -Method POST -ContentType "application/json" -Body '{"username":"admin","password":"123","role":"evaluation_team"}'
```

或使用完整账号：
```powershell
Invoke-RestMethod -Uri "http://localhost:8000/api/auth/login" -Method POST -ContentType "application/json" -Body '{"username":"evaluator1","password":"password123","role":"evaluation_team"}'
```

---

### 测试办公室登录
```powershell
Invoke-RestMethod -Uri "http://localhost:8000/api/auth/login" -Method POST -ContentType "application/json" -Body '{"username":"office1","password":"password123","role":"evaluation_office"}'
```

---

### 测试校长办公会登录
```powershell
Invoke-RestMethod -Uri "http://localhost:8000/api/auth/login" -Method POST -ContentType "application/json" -Body '{"username":"president1","password":"password123","role":"president_office"}'
```

---

## 🗄️ 数据库验证

### 查看所有用户
```sql
USE teaching_office_evaluation;
SELECT username, name, role, teaching_office_id FROM users;
```

### 查看简化测试账号
```sql
SELECT username, name, role FROM users WHERE username IN ('123', 'admin');
```

### 查看完整测试账号
```sql
SELECT username, name, role FROM users WHERE username LIKE 'director%' OR username LIKE 'evaluator%' OR username LIKE 'office%' OR username LIKE 'president%';
```

---

## 🔑 密码哈希值

### 密码 `123` 的哈希值
```
$2b$12$fsGArgXk2SbWTHHcH6sLZefVnvyPSFmn5Sy7AqG1DeR1gNjqRGxiO
```

### 密码 `password123` 的哈希值
```
$2b$12$LQv3c1yqBWVHxkd0LHAkCOYz6TtxMQJqhN8/LewY5GyYIr.oPfHiq
```

---

## ⚠️ 重要提示

### 1. 测试环境专用
- ✅ 这些账号仅用于开发和测试环境
- ❌ 不要在生产环境使用这些简单密码
- ⚠️ 生产环境必须使用强密码

### 2. 旧账号已失效
以下账号已从数据库中删除，不再有效：
- ❌ `test_teaching_office`
- ❌ `test_eval_team`

### 3. 角色选择
- 教研室端登录：自动选择角色，无需手动选择
- 管理端登录：**必须手动选择角色**（评教小组/办公室/校长办公会）

### 4. 数据库配置
- 数据库名：`teaching_office_evaluation`
- MySQL用户：`root`
- MySQL密码：`root`
- 端口：`3306`

---

## 📝 快速测试流程

### 场景1：教研室填写自评表
1. 使用 `123` / `123` 登录教研室端
2. 点击"自评表填写"
3. 填写考评表内容
4. （可选）上传附件
5. 提交表单

### 场景2：考评小组手动评分
1. 使用 `admin` / `123` 登录管理端（选择"评教小组"）
2. 查看待评分的自评表
3. 进行手动评分
4. 提交评分

### 场景3：办公室生成最终得分
1. 使用 `office1` / `password123` 登录管理端（选择"评教小组办公室"）
2. 查看所有评分数据
3. 生成最终得分
4. 发布结果

### 场景4：校长查看数据
1. 使用 `president1` / `password123` 登录管理端（选择"校长办公会"）
2. 查看数据大屏
3. 查看各教研室评分情况
4. 审批结果

---

## 🆘 常见问题

### Q1: 登录失败怎么办？
**A**: 检查以下几点：
1. 用户名和密码是否正确
2. 管理端是否选择了正确的角色
3. 后端服务是否正常运行（http://localhost:8000）
4. 数据库是否正常连接

### Q2: 忘记密码怎么办？
**A**: 参考本文档中的账号清单，或执行以下SQL重置密码：
```sql
-- 重置为 123
UPDATE users SET password_hash = '$2b$12$fsGArgXk2SbWTHHcH6sLZefVnvyPSFmn5Sy7AqG1DeR1gNjqRGxiO' WHERE username = '你的用户名';

-- 重置为 password123
UPDATE users SET password_hash = '$2b$12$LQv3c1yqBWVHxkd0LHAkCOYz6TtxMQJqhN8/LewY5GyYIr.oPfHiq' WHERE username = '你的用户名';
```

### Q3: 如何添加新的测试账号？
**A**: 执行以下SQL：
```sql
INSERT INTO users (id, username, password_hash, role, name, email, created_at, updated_at)
VALUES (
    UUID(),
    '新用户名',
    '$2b$12$fsGArgXk2SbWTHHcH6sLZefVnvyPSFmn5Sy7AqG1DeR1gNjqRGxiO',  -- 密码123
    '角色',  -- teaching_office, evaluation_team, evaluation_office, president_office
    '姓名',
    'email@example.com',
    NOW(),
    NOW()
);
```

---

## 📚 相关文档

- `README.md` - 项目介绍
- `QUICK_START.md` - 快速启动指南
- `项目介绍文档.md` - 详细介绍
- `测试账号更新说明.md` - 账号更新历史
- `账号密码更新完成.md` - 最近更新记录

---

## 📞 技术支持

如有问题，请查看：
1. 项目文档
2. 错误日志：`backend/error.log`
3. 浏览器控制台
4. 后端API文档：http://localhost:8000/docs

---

**最后更新**: 2026年2月14日  
**文档版本**: v2.0  
**维护者**: Kiro AI Assistant
