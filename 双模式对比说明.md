# 双模式对比说明

## 📊 模式对比总览

| 特性 | 三端模式（原有） | 四角色模式（新增） |
|------|----------------|------------------|
| **设计理念** | 按功能端口划分 | 按用户角色划分 |
| **端口/角色数量** | 3个端口 | 4个角色 |
| **流程条** | 不显示 | 显示（8步流程） |
| **权限模型** | 端口级权限 | 角色级权限 |
| **适用场景** | 功能导向的操作 | 角色导向的工作流 |
| **用户体验** | 按功能模块操作 | 按工作职责操作 |

---

## 🔄 三端模式详解

### 设计思路

三端模式按照**功能模块**划分，每个端口代表一组相关的功能集合。

### 端口结构

```
教研室数据管理平台
├── 教研室端
│   ├── 详教方案
│   │   ├── 填写自评表
│   │   └── 查看结果
│   └── 分发材料
│       ├── 上传附件
│       └── 附件管理
│
├── 管理端
│   ├── 监控中心
│   │   ├── 手动评分
│   │   ├── 最终得分
│   │   └── 异常处理
│   ├── 分析中心
│   │   ├── 数据同步
│   │   └── 发起公示
│   └── 应用中心
│       ├── 附件管理
│       └── 系统配置
│
└── 校长办公会端
    ├── 数据看板
    │   ├── 实时监控
    │   └── 数据分析
    └── 审批中心
        ├── 结果审定
        └── 公示管理
```

### 特点

- ✅ **功能集中**: 相关功能集中在一个端口
- ✅ **操作直观**: 按功能模块快速定位
- ✅ **适合管理员**: 需要跨角色操作的管理员用户
- ✅ **灵活性高**: 可以快速切换不同功能模块

### 适用用户

- 系统管理员
- 需要执行多种功能的用户
- 熟悉系统功能结构的用户

---

## 👥 四角色模式详解

### 设计思路

四角色模式按照**用户角色**划分，每个角色代表一类用户的工作职责和权限范围。

### 角色结构

```
教研室数据管理平台
├── 普通教师 (只读权限)
│   ├── 我的教研室
│   │   ├── 考评结果
│   │   ├── 评分详情
│   │   └── 改进措施
│   └── 数据分析
│       ├── 历史对比
│       └── 指标雷达图
│
├── 教研室负责人 (读写权限 - 本教研室)
│   ├── 自评管理
│   │   ├── 填写自评表
│   │   └── 查看自评表
│   ├── 材料管理
│   │   ├── 上传附件
│   │   └── 附件列表
│   ├── AI评分
│   │   ├── 触发评分
│   │   └── 评分结果
│   └── 改进闭环
│       ├── 提交改进措施
│       └── 查看审核状态
│
├── 二级学院负责人 (只读权限 - 全院 + 审核权限)
│   ├── 学院驾驶舱
│   │   ├── 全院概览
│   │   ├── 教研室对比
│   │   └── 指标分析
│   └── 整改督导
│       ├── 改进措施审核
│       ├── 执行进度跟踪
│       └── 督导记录
│
└── 学校教务处负责人 (读写权限 - 全校 + 管理权限)
    ├── 监控中心
    │   ├── 全校概览
    │   ├── 实时数据
    │   └── AI评分监控
    ├── 评分管理
    │   ├── 手动评分
    │   ├── 最终得分确定
    │   └── 评分记录查询
    ├── 异常处理
    │   ├── 异常数据列表
    │   └── 处理记录
    └── 公示管理
        ├── 发起公示
        ├── 公示状态
        └── 数据同步
```

### 特点

- ✅ **角色明确**: 每个角色有明确的职责范围
- ✅ **权限清晰**: 权限与角色严格对应
- ✅ **流程可视**: 显示8步流程条，高亮当前角色节点
- ✅ **工作导向**: 按照实际工作流程设计
- ✅ **易于理解**: 用户只看到自己职责范围内的功能

### 适用用户

- 普通教师：只需查看结果
- 教研室负责人：负责填报和管理
- 二级学院负责人：负责监督和审核
- 学校教务处负责人：负责评分和公示

---

## 🎨 界面对比

### 侧边栏对比

#### 三端模式
```
┌────────────────────┐
│  [校徽]            │
│  教研室数据管理平台 │
│  [教研室端]        │
│                    │
│  [切换到四角色模式] │
│                    │
│  ● 教研室端        │
│  ○ 管理端          │
│  ○ 校长办公会端    │
│                    │
│  [用户信息]        │
│  admin             │
│  管理员            │
└────────────────────┘
```

#### 四角色模式
```
┌────────────────────┐
│  [校徽]            │
│  教研室数据管理平台 │
│  [教研室负责人]    │
│                    │
│  [切换到三端模式]  │
│                    │
│  ○ 普通教师        │
│  ● 教研室负责人    │
│  ○ 二级学院负责人  │
│  ○ 学校教务处负责人│
│                    │
│  [用户信息]        │
│  admin             │
│  教研室负责人      │
└────────────────────┘
```

### 主内容区对比

#### 三端模式
```
┌─────────────────────────────────────────┐
│ [详教方案] [分发材料]                    │ ← 标签栏
├─────────────────────────────────────────┤
│                                         │
│  详教方案                                │ ← 内容标题
│  查看和管理教学方案                      │
│                                         │
│  ┌─────────┐ ┌─────────┐               │
│  │填写自评表│ │查看结果 │               │ ← 功能卡片
│  └─────────┘ └─────────┘               │
│                                         │
└─────────────────────────────────────────┘
```

#### 四角色模式
```
┌─────────────────────────────────────────┐
│ [自评管理] [材料管理] [AI评分] [改进闭环]│ ← 标签栏
├─────────────────────────────────────────┤
│ [流程条: 1→2→3→4→5→6→7→8]               │ ← 流程条（高亮1,2,3,8）
├─────────────────────────────────────────┤
│                                         │
│  自评管理                                │ ← 内容标题
│  填写和管理自评表                        │
│                                         │
│  ┌─────────┐ ┌─────────┐               │
│  │填写自评表│ │查看自评表│               │ ← 功能卡片
│  └─────────┘ └─────────┘               │
│                                         │
└─────────────────────────────────────────┘
```

---

## 🔄 流程条说明（仅四角色模式）

### 8步流程节点

```
1. 自评填报 → 2. 材料上传 → 3. AI评分 → 4. 手动评分 
→ 5. 最终得分 → 6. 数据审定 → 7. 结果公示 → 8. 改进闭环
```

### 各角色高亮节点

| 角色 | 高亮节点 | 说明 |
|------|---------|------|
| 普通教师 | 1, 2, 8 | 参与自评填报、材料上传、查看改进措施 |
| 教研室负责人 | 1, 2, 3, 8 | 负责自评填报、材料上传、触发AI评分、提交改进措施 |
| 二级学院负责人 | 8 | 审核和督导改进措施 |
| 学校教务处负责人 | 3, 4, 5, 7 | 负责AI评分监控、手动评分、确定最终得分、发起公示 |

### 流程条视觉效果

```
普通教师视角:
[●]─[●]─[○]─[○]─[○]─[○]─[○]─[●]
 1   2   3   4   5   6   7   8
 ↑   ↑                       ↑
高亮 高亮                    高亮

教研室负责人视角:
[●]─[●]─[●]─[○]─[○]─[○]─[○]─[●]
 1   2   3   4   5   6   7   8
 ↑   ↑   ↑                   ↑
高亮 高亮 高亮                高亮

二级学院负责人视角:
[○]─[○]─[○]─[○]─[○]─[○]─[○]─[●]
 1   2   3   4   5   6   7   8
                             ↑
                            高亮

学校教务处负责人视角:
[○]─[○]─[●]─[●]─[●]─[○]─[●]─[○]
 1   2   3   4   5   6   7   8
         ↑   ↑   ↑       ↑
        高亮 高亮 高亮    高亮
```

---

## 🎯 使用场景对比

### 场景 1: 教研室负责人填写自评表

#### 三端模式操作流程
1. 选择"教研室端"
2. 点击"详教方案"标签
3. 点击"填写自评表"功能卡片
4. 填写并提交

#### 四角色模式操作流程
1. 选择"教研室负责人"角色
2. 点击"自评管理"标签
3. 点击"填写自评表"功能卡片
4. 填写并提交
5. 流程条显示当前处于"自评填报"节点

**对比**: 四角色模式更清晰地展示了当前所处的工作流程节点。

---

### 场景 2: 学校教务处负责人进行手动评分

#### 三端模式操作流程
1. 选择"管理端"
2. 点击"监控中心"标签
3. 点击"手动评分"功能卡片
4. 进行评分

#### 四角色模式操作流程
1. 选择"学校教务处负责人"角色
2. 点击"评分管理"标签
3. 点击"手动评分"功能卡片
4. 进行评分
5. 流程条显示当前处于"手动评分"节点（高亮）

**对比**: 四角色模式明确了用户的角色身份和权限范围。

---

### 场景 3: 二级学院负责人审核改进措施

#### 三端模式操作流程
- 三端模式中没有直接对应的功能入口
- 需要通过其他方式访问

#### 四角色模式操作流程
1. 选择"二级学院负责人"角色
2. 点击"整改督导"标签
3. 点击"改进措施审核"功能卡片
4. 进行审核
5. 流程条显示当前处于"改进闭环"节点（高亮）

**对比**: 四角色模式为二级学院负责人提供了专门的功能入口。

---

## 💡 选择建议

### 选择三端模式的情况

- ✅ 用户是系统管理员，需要访问所有功能
- ✅ 用户熟悉系统功能结构，按功能模块操作更高效
- ✅ 需要快速在不同功能模块之间切换
- ✅ 不需要严格的角色权限控制

### 选择四角色模式的情况

- ✅ 用户有明确的角色定位（教师、负责人、学院领导、教务处）
- ✅ 需要清晰的工作流程指引
- ✅ 需要严格的角色权限控制
- ✅ 用户不熟悉系统，需要按角色引导操作
- ✅ 需要了解当前在整个流程中的位置

---

## 🔄 模式切换时机

### 建议切换到三端模式

- 当需要执行跨角色的管理任务时
- 当需要快速访问多个功能模块时
- 当用户是系统管理员时

### 建议切换到四角色模式

- 当用户首次使用系统时（更易理解）
- 当需要按照工作流程操作时
- 当需要明确角色权限时
- 当需要查看流程进度时

---

## 📊 功能对应关系

### 教研室端 ↔ 教研室负责人

| 三端模式 | 四角色模式 |
|---------|-----------|
| 详教方案 → 填写自评表 | 自评管理 → 填写自评表 |
| 详教方案 → 查看结果 | 自评管理 → 查看自评表 |
| 分发材料 → 上传附件 | 材料管理 → 上传附件 |
| 分发材料 → 附件管理 | 材料管理 → 附件列表 |

### 管理端 ↔ 学校教务处负责人

| 三端模式 | 四角色模式 |
|---------|-----------|
| 监控中心 → 手动评分 | 评分管理 → 手动评分 |
| 监控中心 → 最终得分 | 评分管理 → 最终得分确定 |
| 监控中心 → 异常处理 | 异常处理 → 异常数据列表 |
| 分析中心 → 数据同步 | 公示管理 → 数据同步 |
| 分析中心 → 发起公示 | 公示管理 → 发起公示 |

### 校长办公会端 ↔ 学校教务处负责人

| 三端模式 | 四角色模式 |
|---------|-----------|
| 数据看板 → 实时监控 | 监控中心 → 全校概览 |
| 数据看板 → 数据分析 | 监控中心 → 实时数据 |
| 审批中心 → 结果审定 | （数据审定流程） |
| 审批中心 → 公示管理 | 公示管理 → 公示状态 |

---

## 🎉 总结

两种模式各有优势，适用于不同的使用场景：

- **三端模式**: 功能导向，适合管理员和熟练用户
- **四角色模式**: 角色导向，适合新用户和需要流程指引的用户

通过模式切换功能，用户可以根据自己的需求和习惯选择最合适的操作方式，提供了更灵活、更人性化的用户体验。
