ts](https://echarts.apache.org/) - 数据可视化图表库
- [SQLite](https://www.sqlite.org/) - 轻量级数据库
- [Vite](https://vitejs.dev/) - 下一代前端构建工具

---

**最后更新**: 2024-02  
**版本**: v2.0.0  
**状态**: ✅ 已部署运行  
**在线地址**: http://101.33.211.98

---

© 2024 教研室数据管理平台. All rights reserved.
.33.211.98
- **API文档**: http://101.33.211.98:8000/docs
- **健康检查**: http://101.33.211.98:8000/api/health

### 相关文档
- [快速开始指南](QUICK_START.md)
- [部署指南](DEPLOYMENT_GUIDE.md)
- [腾讯云部署指南](腾讯云部署指南.md)
- [宝塔面板部署指南](宝塔面板部署指南.md)
- [端口和数据库配置说明](端口和数据库配置说明.md)
- [SQLite快速启动指南](SQLite快速启动指南.md)

---

## 📄 许可证

本项目采用 MIT 许可证

---

## 🙏 致谢

感谢以下开源项目：
- [Vue.js](https://vuejs.org/) - 渐进式JavaScript框架
- [FastAPI](https://fastapi.tiangolo.com/) - 现代化Python Web框架
- [Element Plus](https://element-plus.org/) - Vue 3组件库
- [EChar 改进措施只读查看模式

**优化改进**
- ✅ 数据库迁移到SQLite
- ✅ 页面布局优化，防止内容超出视口
- ✅ 表格固定列优化
- ✅ 响应式设计优化
- ✅ 登录页面动画效果

**部署配置**
- ✅ 配置部署IP地址（101.33.211.98）
- ✅ Nginx反向代理配置
- ✅ CORS跨域配置
- ✅ 生产环境优化

### v1.0.0 (2026-02-06)
- ✅ 完成平台化设计改造
- ✅ 警察蓝色配色方案
- ✅ 响应式设计
- ✅ 基础功能实现

---

## 🎯 未来规划

### 短期计划（3个月）
- [ ] 移动端适配优化
- [ ] 用户引导系统
- [ ] 消息通知功能
- [ ] 数据导出功能增强

### 中期计划（6个月）
- [ ] 暗色模式支持
- [ ] 批量操作功能
- [ ] 高级搜索功能
- [ ] 报表生成系统

### 长期计划（1年）
- [ ] 移动端原生应用
- [ ] 工作流引擎
- [ ] 多语言支持
- [ ] 智能推荐系统

---

## 📞 联系方式

### 在线访问
- **系统地址**: http://101in.ts            # 应用入口
│   ├── public/                # 静态资源
│   │   └── school-logo.jpg    # 校徽
│   ├── package.json           # 依赖配置
│   └── vite.config.ts         # Vite配置
│
├── nginx/                      # Nginx配置
│   └── nginx.conf
├── scripts/                    # 脚本文件
├── docker-compose.yml          # Docker配置
└── README.md                   # 项目说明
```

---

## 🔄 更新日志

### v2.0.0 (2024-02) - 当前版本

**新增功能**
- ✅ 三入口登录页面设计（教研室端、管理端、数据大屏）
- ✅ 教研室端表单直接嵌入主页
- ✅ 管理端三角色动态配置
- ✅ 数据大屏ECharts可视化
- ✅ 改进措施7字段详细表单
- ✅件
│   │   │   ├── SelfEvaluationForm.vue
│   │   │   ├── AttachmentUpload.vue
│   │   │   └── ...
│   │   ├── views/             # 页面视图
│   │   │   ├── Login.vue      # 登录页面
│   │   │   ├── TeachingOfficeHome.vue  # 教研室端
│   │   │   ├── ManagementHome.vue      # 管理端
│   │   │   ├── DataDashboard.vue       # 数据大屏
│   │   │   └── ...
│   │   ├── router/            # 路由配置
│   │   │   └── index.ts
│   │   ├── stores/            # 状态管理
│   │   │   └── auth.ts
│   │   ├── types/             # TypeScript类型
│   │   └── maantic模型
│   │   ├── services/          # 业务逻辑
│   │   │   ├── ai_scoring_service.py
│   │   │   ├── minio_service.py
│   │   │   └── ...
│   │   └── main.py            # 应用入口
│   ├── alembic/               # 数据库迁移
│   ├── tests/                 # 测试文件
│   ├── requirements.txt       # Python依赖
│   └── .env                   # 环境变量
│
├── frontend/                   # 前端代码
│   ├── src/
│   │   ├── api/               # API调用
│   │   │   ├── client.ts
│   │   │   └── college.ts
│   │   ├── components/        # 公共组
│   │   │       │   └── ...
│   │   │       └── api.py     # API汇总
│   │   ├── core/              # 核心配置
│   │   │   ├── config.py      # 配置文件
│   │   │   ├── security.py    # 安全相关
│   │   │   └── deps.py        # 依赖注入
│   │   ├── db/                # 数据库
│   │   │   ├── base.py        # 数据库基类
│   │   │   └── init_db.py     # 初始化脚本
│   │   ├── models/            # 数据模型
│   │   │   ├── user.py
│   │   │   ├── self_evaluation.py
│   │   │   ├── attachment.py
│   │   │   └── ...
│   │   ├── schemas/           # Pyd frontend
npm run dev
```

#### 6. 访问系统
- 前端: http://localhost:3000
- API文档: http://localhost:8000/docs
- 健康检查: http://localhost:8000/api/health

---

## 📁 项目结构

```
教研室数据综合管理平台/
├── backend/                    # 后端代码
│   ├── app/
│   │   ├── api/               # API路由
│   │   │   └── v1/
│   │   │       ├── endpoints/ # 各功能端点
│   │   │       │   ├── auth.py
│   │   │       │   ├── self_evaluation.py
│   │   │       │   ├── attachments.py
│   │   │       │   ├── scoring.py
│   │   │       │   ├── publication.py隆项目
```bash
git clone <repository-url>
cd 教研室数据综合管理平台
```

#### 2. 后端安装
```bash
cd backend
pip install -r requirements.txt
```

#### 3. 前端安装
```bash
cd frontend
npm install
```

#### 4. 配置环境变量
```bash
# 后端配置
cp backend/.env.example backend/.env
# 编辑 .env 文件
```

#### 5. 启动服务

**后端** (端口 8000):
```bash
cd backend
# Windows
$env:USE_SQLITE="true"; python -m uvicorn app.main:app --reload --port 8000

# Linux/Mac
USE_SQLITE=true python -m uvicorn app.main:app --reload --port 8000
```

**前端** (端口 3000):
```bash
cd- **数据分析**: 深度数据分析和趋势预测
- **数据可视化**: ECharts图表展示

**2. 最终结果**
- **考评结果**: 查看评教的最终结果
- **排名榜单**: 查看教研室排名
- **历史数据**: 查看历年考评数据
- **结果导出**: 导出考评结果报告

**3. 审批中心**
- **结果审定**: 审定考评结果
- **公示审批**: 决定是否公示结果
- **审批记录**: 查看审批历史记录

### 数据大屏功能

**可视化图表**:
1. **评分分布饼图**: 展示5个分数段的分布情况
2. **月度趋势折线图**: 展示6个月的评分趋势变化
3. **学院对比柱状图**: 横向对比8个学院的得分情况
4. **综合指标雷达图**: 展示6个维度的综合指标

**实时数据**:
- 当前考评进度
- 教研室排名榜单
- 最新公示信息
- 系统统计数据

---

## 🛠️ 本地开发

### 环境要求
- Node.js 18+
- Python 3.11+
- SQLite（内置）或 PostgreSQL 15+

### 安装步骤

#### 1. 克常处理**
- **异常数据**: 查看AI标记的异常数据
- **处理记录**: 查看异常数据处理记录
- **异常分析**: 分析异常数据的原因和趋势

**3. 评分记录**
- **我的评分**: 查看个人所有评分记录
- **全部评分**: 查看所有评审人打分记录
- **评分对比**: 对比不同评审人的评分差异

#### 评教小组办公室功能

**1. 公示管理**
- **发起公示**: 公示考评结果，透明公开
- **公示状态**: 查看公示进度和状态
- **公示预览**: 预览公示内容
- **公示设置**: 配置公示范围和时间

**2. 数据同步**
- **同步到校长办公会**: 将结果上传到校长办公会端
- **同步记录**: 查看数据同步历史记录
- **同步状态**: 查看当前同步任务状态

**3. 附件管理**
- **附件列表**: 查看和管理所有附件
- **附件审核**: 审核教研室提交的附件
- **附件分类**: 按类型查看附件

#### 校长办公会功能

**1. 数据看板**
- **实时监控**: 查看实时数据和排名对比
- **全校概览**: 查看全校考评进度和数据
- 支持提交（提交后不可修改）

**操作步骤**:
1. 填写各项指标内容
2. 点击"保存"按钮保存草稿
3. 确认无误后点击"提交"

#### 2. 材料提交
**位置**: 左侧菜单"材料提交"  
**功能**:
- 上传支撑材料
- 支持多文件批量上传
- 支持多种文件格式
- 查看已上传的附件列表

**操作步骤**:
1. 点击"上传附件"按钮
2. 选择文件（可多选）
3. 点击"确定"上传
4. 等待上传完成

#### 3. 下学期改进措施
**位置**: 左侧菜单"下学期改进措施"  
**功能**:
- 查看所有老师的改进措施
- 查看改进措施详情
- 查看改进措施状态

**表格字段**:
- 教师姓名
- 考核指标
- 薄弱项分析
- 改进目标
- 具体措施
- 预期效果
- 责任人
- 完成时限
- 状态（待执行/执行中/已完成/已驳回）

### 管理端功能

#### 评教小组功能

**1. 评分管理**
- **手动评分**: 对教研室考评表进行专业评分
- **最终得分**: 综合所有评分确定最终结果
- **评分进度**: 查看当前评分进度和待评分项

**2. 异
   - 登录后自动显示自评表表单
   - 填写各项指标
   - 点击"保存"或"提交"

3. **上传材料**
   - 点击左侧"材料提交"菜单
   - 点击"上传附件"按钮
   - 选择文件并上传

4. **查看改进措施**
   - 点击左侧"下学期改进措施"菜单
   - 查看所有老师的改进措施列表

#### 管理端用户操作流程

1. **登录管理端**
   - 点击"管理端"卡片
   - 输入用户名和密码
   - 选择角色（评教小组/评教小组办公室/校长办公会）
   - 点击"登录"

2. **根据角色使用功能**
   - 系统根据您的角色显示对应的菜单
   - 点击菜单查看不同的标签页
   - 点击功能卡片进入具体功能页面

#### 查看数据大屏

- 直接点击"数据大屏"卡片
- 无需登录即可查看
- 查看实时数据和可视化图表

---

## 📖 功能详解

### 教研室端功能

#### 1. 填写自评表
**位置**: 登录后默认显示  
**功能**:
- 在线填写教研室工作考核评分表
- 支持实时保存（避免数据丢失）
- 支持预览（查看填写效果）
 Pydantic模型
- `services/`: 业务逻辑
- `core/`: 核心配置

### 部署架构
```
Nginx (反向代理)
├── 前端: http://101.33.211.98
├── 后端API: http://101.33.211.98:8000
└── API文档: http://101.33.211.98:8000/docs
```

---

## 🚀 快速开始

### 访问系统

1. **打开浏览器**  
   访问: http://101.33.211.98

2. **选择入口**  
   根据您的身份选择对应的入口：
   - 教研室用户 → 点击"教研室端"
   - 管理人员 → 点击"管理端"
   - 查看数据 → 点击"数据大屏"（无需登录）

3. **登录系统**  
   - 教研室端：输入用户名和密码
   - 管理端：输入用户名、密码，并选择角色

### 使用流程

#### 教研室用户操作流程

1. **登录教研室端**
   - 点击"教研室端"卡片
   - 输入用户名和密码
   - 点击"登录"

2. **填写自评表**Element Plus
├── 路由: Vue Router
├── 状态管理: Pinia
├── 图表: ECharts
└── 样式: CSS3 + 响应式设计
```

**核心组件**:
- `Login.vue`: 登录页面，三入口卡片
- `TeachingOfficeHome.vue`: 教研室端主页
- `ManagementHome.vue`: 管理端主页
- `DataDashboard.vue`: 数据大屏
- `SelfEvaluationForm.vue`: 自评表表单
- `AttachmentUpload.vue`: 附件上传组件

### 后端技术栈
```
FastAPI + Python 3.11+
├── 数据库: SQLite / PostgreSQL
├── ORM: SQLAlchemy
├── API文档: Swagger/OpenAPI
├── 服务器: Uvicorn
└── AI服务: DeepSeek API
```

**核心模块**:
- `api/v1/endpoints/`: API端点
- `models/`: 数据模型
- `schemas/`::|------|
| 手动评分 | ✅ | 对教研室考评表进行评分 |
| 最终得分 | ✅ | 确定最终得分 |
| 异常处理 | ✅ | 处理AI标记的异常数据 |
| 评分记录 | 👁️ | 查看所有评分记录 |

### 管理端 - 评教小组办公室

| 功能 | 权限 | 说明 |
|------|:----:|------|
| 发起公示 | ✅ | 公示考评结果 |
| 数据同步 | ✅ | 同步数据到校长办公会 |
| 附件管理 | ✅ | 管理所有附件 |
| 附件审核 | ✅ | 审核教研室提交的附件 |

### 管理端 - 校长办公会

| 功能 | 权限 | 说明 |
|------|:----:|------|
| 数据看板 | 👁️ | 查看实时数据和图表 |
| 考评结果 | 👁️ | 查看最终考评结果 |
| 结果审定 | ✅ | 审定考评结果 |
| 公示审批 | ✅ | 决定是否公示 |

**图例**: ✅ 可操作 | 👁️ 只读

---

## 💻 技术架构

### 前端技术栈
```
Vue 3 + TypeScript + Vite
├── UI框架: 常数据、处理记录）
- 评分记录（我的评分、全部评分）

**评教小组办公室**:
- 公示管理（发起公示、公示状态）
- 数据同步（同步到校长办公会、同步记录）
- 附件管理（附件列表、附件审核）

**校长办公会**:
- 数据看板（实时监控、数据分析）
- 最终结果（考评结果、历史数据）
- 审批中心（结果审定、公示审批）

**配色**:
- 侧边栏: 紫色渐变 (#667eea → #764ba2)
- 激活标识: 白色
- 内容区: 浅灰色 (#f5f7fa)

### 数据大屏界面
全屏展示，无需登录

**展示内容**:
- 评分分布饼图
- 月度趋势折线图
- 学院对比柱状图
- 综合指标雷达图
- 实时排名榜单

---

## 👥 角色权限

### 教研室端

| 功能 | 权限 | 说明 |
|------|:----:|------|
| 填写自评表 | ✅ | 可填写、保存、提交 |
| 材料提交 | ✅ | 可上传、删除附件 |
| 查看改进措施 | 👁️ | 只读，查看所有老师的改进措施 |

### 管理端 - 评教小组

| 功能 | 权限 | 说明 |
|------|:----卡片设计

**设计特点**:
- 卡片式布局，清晰直观
- 每个入口有独特的图标和配色
- 功能标签一目了然
- 悬停动画效果，提升交互体验

**配色方案**:
- **背景渐变**: #667eea → #764ba2
- **教研室端卡片**: 深蓝色图标 (#1a237e)
- **管理端卡片**: 紫色图标 (#667eea)
- **数据大屏卡片**: 蓝色图标 (#4facfe)

### 教研室端界面
左侧导航栏 + 右侧内容区的经典布局

**侧边栏**:
- 校徽和平台标题
- 角色标识（教研室）
- 三个主菜单：
  - 填写自评表
  - 材料提交
  - 下学期改进措施
- 用户信息和退出按钮

**内容区**:
- 顶部标签栏
- 表单/表格直接嵌入（无需点击功能卡片）
- 页脚信息

**配色**:
- 侧边栏: 深蓝色渐变 (#1a237e → #0d47a1)
- 激活标识: 绿色 (#7cb342)
- 内容区: 浅灰色 (#f5f7fa)

### 管理端界面
与教研室端类似的布局，但根据角色动态显示不同功能

**评教小组**:
- 评分管理（手动评分、最终得分）
- 异常处理（异──┘
       ↓
┌─────────────┐
│ 2. 材料上传 │  ← 教研室上传支撑材料
└──────┬──────┘
       ↓
┌─────────────┐
│ 3. AI评分   │  ← 系统自动评分
└──────┬──────┘
       ↓
┌─────────────┐
│ 4. 手动评分 │  ← 评教小组专业评分
└──────┬──────┘
       ↓
┌─────────────┐
│ 5. 最终得分 │  ← 评教小组办公室确定最终得分
└──────┬──────┘
       ↓
┌─────────────┐
│ 6. 数据审定 │  ← 校长办公会审定结果
└──────┬──────┘
       ↓
┌─────────────┐
│ 7. 结果公示 │  ← 评教小组办公室发起公示
└──────┬──────┘
       ↓
┌─────────────┐
│ 8. 改进闭环 │  ← 教研室查看改进措施
└─────────────┘
```

---

## 🎨 界面设计

### 登录页面
采用紫色渐变背景，三个入口度指标分析

### 📢 公示管理
- 考评结果公示
- 公示范围配置（全校/特定范围）
- 公示状态跟踪
- 公示反馈收集

### 🔄 改进闭环
- 查看所有老师的改进措施
- 改进措施包含7个字段：
  - 教师姓名
  - 考核指标
  - 薄弱项分析
  - 改进目标
  - 具体措施
  - 预期效果
  - 责任人
  - 完成时限
- 改进措施状态跟踪（待执行、执行中、已完成、已驳回）

---

## 🔄 考评流程

```
┌─────────────┐
│ 1. 自评填报 │  ← 教研室填写自评表
└──────┬──── 公开展示，无需登录  
**功能标签**: 实时数据、可视化、排名对比  
**主要功能**:
- 实时数据监控
- ECharts可视化图表
- 教研室排名对比
- 考评进度展示

**特点**: 无需登录，公开透明展示

---

## 💡 核心功能

### 📝 自评管理
- 在线填写教研室工作考核评分表
- 支持实时保存和预览
- 历史数据对比分析
- 自评表状态跟踪

### 📎 材料管理
- 多文件批量上传
- 支持多种文件格式（PDF、Word、Excel、图片等）
- 附件分类和检索
- 附件审核和归档

### 🤖 AI智能评分
- 集成DeepSeek API
- 自动解析评分表内容
- 智能评分和打分
- 异常数据自动标记

### ✍️ 手动评分
- 考评小组专业评分
- 多维度评分标准
- 评分记录可追溯
- 评分进度实时监控

### 📊 数据可视化
基于ECharts实现的丰富图表展示：
- **评分分布饼图**: 展示各分数段分布情况
- **月度趋势折线图**: 展示6个月的评分趋势
- **学院对比柱状图**: 横向对比各学院得分
- **综合指标雷达图**: 多维大屏三端协同工作

### 系统信息
- **在线地址**: http://101.33.211.98
- **版本**: v2.0.0
- **数据库**: SQLite
- **状态**: ✅ 已部署运行

---

## 🎯 系统架构

### 三端入口

系统提供三个独立的入口，满足不同用户的使用需求：

#### 1️⃣ 教研室端
**用户**: 教研室  
**功能标签**: 自评填报、材料提交、改进措施  
**主要功能**:
- 填写教研室工作考核评分表
- 上传支撑材料和附件
- 查看考评结果和反馈
- 查看下学期改进措施

**特点**: 表单直接嵌入主页，操作简便快捷

#### 2️⃣ 管理端
**用户**: 评教小组、评教小组办公室、校长办公会  
**功能标签**: 评分管理、数据审核、系统配置  
**主要功能**:
- **评教小组**: 手动评分、异常处理、评分记录
- **评教小组办公室**: 公示管理、数据同步、附件管理
- **校长办公会**: 数据看板、最终结果、审批中心

**特点**: 根据角色动态显示不同的功能模块

#### 3️⃣ 数据大屏
**用户**:研室工作考评的全流程数字化管理系统，集成AI自动评分、多端协同、实时监控等功能，实现考评工作的智能化和透明化。

### 核心价值
- 🚀 **提升效率**: AI自动评分，减少人工工作量
- 📊 **数据可视**: ECharts图表展示，直观呈现考评数据
- 🔄 **流程透明**: 全流程可追溯，考评过程公开透明
- 👥 **多端协同**: 教研室端、管理端、数据# 教研室数据管理平台

> 智能化、数字化、透明化的教研室工作考评管理系统

---

## 📋 项目简介

教研室数据管理平台是一个面向高校教