# 教研室数据管理平台

## 📋 项目概述

教研室数据管理平台是一个智能化、数字化、透明化的全流程考评管理系统，集成AI自动评分、多端协同、实时监控于一体，助力教研室工作考评现代化。

### 系统定位
- **类型**: 教育管理平台
- **用户**: 教研室、管理部门、校长办公会
- **目标**: 实现教研室工作考评的全流程数字化管理

---

## 🎯 核心功能

### 1. 教研室端
教研室工作人员使用的功能模块

#### 详教方案
- **填写自评表**: 在线填写工作考核表，支持实时保存和预览
- **查看结果**: 查看考评结果和详细评分细则

#### 分发材料
- **上传附件**: 上传支撑材料，支持多文件批量上传
- **附件管理**: 查看和管理所有附件

### 2. 管理端
考评管理部门使用的功能模块

#### 监控中心
- **手动评分**: 考评小组和办公室进行专业评分
- **最终得分**: 综合所有评分确定最终结果
- **异常处理**: 处理AI标记的异常数据

#### 分析中心
- **数据同步**: 同步数据至校长办公会
- **发起公示**: 公示考评结果，透明公开

#### 应用中心
- **附件管理**: 查看和管理所有附件
- **系统配置**: 系统参数和权限配置

### 3. 校长办公会端
校领导使用的功能模块

#### 数据看板
- **实时监控**: 查看实时数据和排名对比
- **数据分析**: 深度数据分析和趋势预测

#### 审批中心
- **结果审定**: 审定考评结果，决定是否公示
- **公示管理**: 管理公示流程和结果

---

## 🎨 设计特色

### 平台化设计
采用左侧导航栏 + 右侧内容区的经典平台布局，符合用户操作习惯

```
┌──────┬──────────────────────────┐
│      │   标签栏                  │
│ 侧   ├──────────────────────────┤
│ 边   │                          │
│ 栏   │   内容区                  │
│      │   (功能卡片网格)          │
│      │                          │
│      ├──────────────────────────┤
│      │   页脚                    │
└──────┴──────────────────────────┘
```

### 配色方案
采用警察蓝色系，庄重、专业、权威

- **主背景**: #1e3a5f (警察蓝)
- **侧边栏**: 深蓝色 (#1e3a5f)
- **内容区**: 浅灰色 (#f5f7fa)
- **强调色**: #2c4a6d (深蓝色)
- **激活标识**: #7cb342 (绿色)

### 交互设计
- 左侧固定导航，始终可见
- 功能卡片悬停动画效果
- 选中状态有明确的视觉标识
- 完全响应式设计

---

## 💻 技术架构

### 前端技术栈
- **框架**: Vue 3 (Composition API)
- **语言**: TypeScript
- **构建工具**: Vite
- **UI组件库**: Element Plus
- **路由**: Vue Router
- **状态管理**: Pinia (可选)

### 后端技术栈
- **框架**: FastAPI
- **语言**: Python 3.11+
- **数据库**: PostgreSQL / SQLite
- **ORM**: SQLAlchemy
- **API文档**: Swagger/OpenAPI
- **服务器**: Uvicorn

### 开发工具
- **版本控制**: Git
- **包管理**: npm (前端) / pip (后端)
- **代码规范**: ESLint + Prettier
- **测试框架**: Vitest (前端) / Pytest (后端)

---

## 🚀 快速开始

### 环境要求
- Node.js 18+
- Python 3.11+
- PostgreSQL 15+ (可选，支持SQLite)

### 安装步骤

#### 1. 克隆项目
```bash
git clone <repository-url>
cd 教研室数据综合管理平台
```

#### 2. 安装后端依赖
```bash
cd backend
pip install -r requirements.txt
```

#### 3. 安装前端依赖
```bash
cd frontend
npm install
```

#### 4. 配置环境变量
```bash
# 后端配置
cp backend/.env.example backend/.env
# 编辑 .env 文件，配置数据库连接等信息
```

#### 5. 启动服务

**后端服务** (端口 8000):
```bash
cd backend
# 使用 SQLite (测试模式)
$env:USE_SQLITE="true"; python -m uvicorn app.main:app --reload --port 8000

# 或使用 PostgreSQL (生产模式)
python -m uvicorn app.main:app --reload --port 8000
```

**前端服务** (端口 3000):
```bash
cd frontend
npm run dev
```

#### 6. 访问系统
- 前端平台: http://localhost:3000
- API文档: http://localhost:8000/docs
- 健康检查: http://localhost:8000/api/health

---

## 📁 项目结构

```
教研室数据综合管理平台/
├── backend/                    # 后端代码
│   ├── app/
│   │   ├── api/               # API路由
│   │   │   └── v1/
│   │   │       ├── endpoints/ # 各功能端点
│   │   │       └── api.py     # API汇总
│   │   ├── core/              # 核心配置
│   │   │   ├── config.py      # 配置文件
│   │   │   ├── security.py    # 安全相关
│   │   │   └── deps.py        # 依赖注入
│   │   ├── db/                # 数据库
│   │   │   ├── base.py        # 数据库基类
│   │   │   └── init_db.py     # 初始化脚本
│   │   ├── models/            # 数据模型
│   │   ├── schemas/           # Pydantic模型
│   │   ├── services/          # 业务逻辑
│   │   └── main.py            # 应用入口
│   ├── alembic/               # 数据库迁移
│   ├── tests/                 # 测试文件
│   ├── requirements.txt       # Python依赖
│   └── .env                   # 环境变量
│
├── frontend/                   # 前端代码
│   ├── src/
│   │   ├── api/               # API调用
│   │   ├── components/        # 公共组件
│   │   │   ├── PageHeader.vue # 页面头部
│   │   │   └── PlatformLayout.vue # 平台布局
│   │   ├── views/             # 页面视图
│   │   │   ├── Home.vue       # 首页
│   │   │   ├── SelfEvaluation.vue
│   │   │   ├── ManualScoring.vue
│   │   │   └── ...
│   │   ├── router/            # 路由配置
│   │   ├── types/             # TypeScript类型
│   │   ├── utils/             # 工具函数
│   │   ├── App.vue            # 根组件
│   │   └── main.ts            # 应用入口
│   ├── public/                # 静态资源
│   │   └── school-logo.jpg    # 校徽
│   ├── package.json           # 依赖配置
│   └── vite.config.ts         # Vite配置
│
├── nginx/                      # Nginx配置
├── scripts/                    # 脚本文件
├── docker-compose.yml          # Docker配置
└── README.md                   # 项目说明
```

---

## 🔐 权限管理

### 角色定义
1. **教研室用户**: 填写自评表、上传附件、查看结果
2. **考评小组**: 手动评分、查看数据
3. **考评办公室**: 确定最终得分、处理异常、发起公示
4. **校长办公会**: 查看数据、审定结果

### 权限控制
- 基于角色的访问控制 (RBAC)
- JWT Token 认证
- API级别的权限验证
- 操作日志全程记录

---

## 📊 数据流程

### 考评流程
```
1. 教研室填写自评表
   ↓
2. 上传支撑材料
   ↓
3. AI自动评分
   ↓
4. 考评小组手动评分
   ↓
5. 考评办公室确定最终得分
   ↓
6. 数据同步至校长办公会
   ↓
7. 校长办公会审定
   ↓
8. 发起公示
   ↓
9. 结果分发
```

### 数据同步
- 教研室端 → 管理端: 实时同步
- 管理端 → 校长办公会端: 手动触发
- 支持批量数据导入导出

---

## 🎯 核心特性

### 1. AI智能评分
- 集成 DeepSeek API
- 自动解析评分
- 异常数据标记
- 提高评分效率

### 2. 多端协同
- 三端分离架构
- 数据实时同步
- 权限精细控制
- 流程清晰透明

### 3. 数据安全
- 完善的权限控制
- 操作日志全程记录
- 数据加密传输
- 定期备份机制

### 4. 实时监控
- 图表化数据展示
- 实时排名对比
- 趋势分析预测
- 异常数据预警

### 5. 附件管理
- 支持多种文件格式
- 批量上传下载
- 文件分类管理
- 归档和检索

---

## 🔧 配置说明

### 后端配置 (.env)
```env
# 数据库配置
DATABASE_URL=postgresql://user:password@localhost/dbname
USE_SQLITE=false

# API配置
API_V1_STR=/api
PROJECT_NAME=教研室数据管理平台

# 安全配置
SECRET_KEY=your-secret-key
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# DeepSeek API
DEEPSEEK_API_KEY=your-api-key

# MinIO配置
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
```

### 前端配置 (vite.config.ts)
```typescript
export default defineConfig({
  server: {
    port: 3000,
    proxy: {
      '/api': {
        target: 'http://localhost:8000',
        changeOrigin: true
      }
    }
  }
})
```

---

## 📱 响应式设计

### 支持设备
- 桌面电脑 (1920px+)
- 笔记本电脑 (1366px - 1920px)
- 平板电脑 (768px - 1366px)
- 手机 (< 768px)

### 适配策略
- 侧边栏在手机端收缩为图标
- 功能卡片在小屏幕上单列显示
- 表格支持横向滚动
- 表单自适应布局

---

## 🧪 测试

### 前端测试
```bash
cd frontend
npm run test        # 运行单元测试
npm run test:ui     # 测试UI界面
npm run coverage    # 生成覆盖率报告
```

### 后端测试
```bash
cd backend
pytest              # 运行所有测试
pytest -v           # 详细输出
pytest --cov        # 生成覆盖率报告
```

---

## 📦 部署

### Docker 部署
```bash
# 构建镜像
docker-compose build

# 启动服务
docker-compose up -d

# 查看日志
docker-compose logs -f
```

### 生产环境部署
1. 配置 Nginx 反向代理
2. 配置 SSL 证书
3. 配置 PostgreSQL 数据库
4. 配置 MinIO 对象存储
5. 配置环境变量
6. 启动服务

详见: `DEPLOYMENT_GUIDE.md`

---

## 🔄 更新日志

### v1.0.0 (2026-02-06)
- ✅ 完成平台化设计改造
- ✅ 采用警察蓝色配色方案
- ✅ 添加 PageHeader 组件
- ✅ 优化页面跳转逻辑
- ✅ 添加返回主页功能
- ✅ 完善响应式设计

### 计划中的功能
- [ ] 暗色模式支持
- [ ] 数据可视化大屏
- [ ] 移动端原生应用
- [ ] 消息通知系统
- [ ] 工作流引擎
- [ ] 报表生成系统

---

## 🤝 贡献指南

### 开发流程
1. Fork 项目
2. 创建功能分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 提交 Pull Request

### 代码规范
- 遵循 ESLint 规则
- 使用 TypeScript 类型
- 编写单元测试
- 添加注释文档

---

## 📞 联系方式

### 技术支持
- 邮箱: support@example.com
- 电话: xxx-xxxx-xxxx

### 问题反馈
- GitHub Issues: [项目地址]/issues
- 在线文档: [文档地址]

---

## 📄 许可证

本项目采用 MIT 许可证

---

## 🙏 致谢

感谢以下开源项目:
- Vue.js
- FastAPI
- Element Plus
- PostgreSQL
- Vite

---

## 📚 相关文档

- [快速开始指南](QUICK_START.md)
- [部署指南](DEPLOYMENT_GUIDE.md)
- [API文档](http://localhost:8000/docs)
- [前端美化说明](前端美化说明.md)
- [平台化设计说明](平台化设计完成说明.md)
- [配色方案说明](页面配色更新说明.md)

---

## 🎯 项目目标

### 短期目标 (3个月)
- ✅ 完成核心功能开发
- ✅ 完成UI/UX设计
- ⏳ 完成系统测试
- ⏳ 上线试运行

### 中期目标 (6个月)
- 收集用户反馈
- 优化系统性能
- 增加新功能
- 扩展用户规模

### 长期目标 (1年)
- 成为行业标杆
- 推广到更多学校
- 开发移动端应用
- 建立生态系统

---

**最后更新**: 2026-02-06  
**版本**: v1.0.0  
**状态**: ✅ 开发完成，运行中

---

© 2026 教研室数据管理平台. All rights reserved.
