# æ‰‹åŠ¨æµ‹è¯•æŒ‡å—ï¼šæäº¤è¡¨å•åˆ°æ‰‹åŠ¨è¯„åˆ†åŠŸèƒ½

## å‰ææ¡ä»¶

### 1. å¯åŠ¨æœåŠ¡

**å‰ç«¯æœåŠ¡**ï¼ˆå·²å¯åŠ¨ï¼‰ï¼š
```bash
cd frontend
npm run dev
# è®¿é—®: http://localhost:3000
```

**åç«¯æœåŠ¡**ï¼ˆéœ€è¦å¯åŠ¨ï¼‰ï¼š
```bash
cd backend
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
# æˆ–è€…
python -m uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

### 2. ç¡®è®¤æµ‹è¯•ç”¨æˆ·å·²åˆ›å»º

åœ¨MySQLä¸­æ‰§è¡Œï¼š
```sql
USE teaching_office_evaluation;

-- æŸ¥çœ‹æµ‹è¯•ç”¨æˆ·
SELECT username, name, role FROM users WHERE username LIKE 'test_%';
```

åº”è¯¥çœ‹åˆ°ï¼š
- `test_teaching_office` (æ•™ç ”å®¤ç«¯)
- `test_eval_team` (è€ƒè¯„å°ç»„)

å¦‚æœæ²¡æœ‰ï¼Œè¿è¡Œï¼š
```bash
mysql -u root -proot < setup_test_users.sql
```

## æµ‹è¯•æ­¥éª¤

### æ­¥éª¤1ï¼šç™»å½•æ•™ç ”å®¤ç«¯

1. æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®ï¼šhttp://localhost:3000/login

2. è¾“å…¥ç™»å½•ä¿¡æ¯ï¼š
   - ç”¨æˆ·åï¼š`test_teaching_office`
   - å¯†ç ï¼š`password123`
   - è§’è‰²ï¼šé€‰æ‹©"æ•™ç ”å®¤ç«¯"

3. ç‚¹å‡»"ç™»å½•"

### æ­¥éª¤2ï¼šå¡«å†™è‡ªè¯„è¡¨

1. ç™»å½•æˆåŠŸåï¼Œç‚¹å‡»"å¡«å†™è€ƒè¯„è¡¨"æˆ–ç›´æ¥è®¿é—®ï¼š
   ```
   http://localhost:3000/self-evaluation
   ```

2. å¡«å†™è¡¨å•çš„æ‰€æœ‰å¿…å¡«é¡¹ï¼š

   **ä¸€ã€å¸¸è§„æ•™å­¦å·¥ä½œ**ï¼ˆ8ä¸ªæŒ‡æ ‡ï¼Œæ¯é¡¹å¿…å¡«ï¼‰ï¼š
   - æ•™å­¦è¿‡ç¨‹ç®¡ç†
   - æ•™å­¦è´¨é‡ç®¡ç†
   - è¯¾ç¨‹è€ƒæ ¸
   - æ•™è‚²æ•™å­¦ç§‘ç ”å·¥ä½œ
   - è¯¾ç¨‹å»ºè®¾
   - æ•™å¸ˆé˜Ÿä¼å»ºè®¾
   - ç§‘å­¦ç ”ç©¶ä¸å­¦æœ¯äº¤æµ
   - æ•™å­¦æ¡£æ¡ˆå®¤ç®¡ç†ä¸å»ºè®¾

   æ¯é¡¹éœ€è¦ï¼š
   - å¡«å†™å†…å®¹ï¼ˆè‡³å°‘10ä¸ªå­—ï¼‰
   - å¡«å†™è‡ªè¯„åˆ†ï¼ˆ0-10åˆ†ï¼‰

   **äºŒã€ç‰¹è‰²ä¸äº®ç‚¹é¡¹ç›®**ï¼ˆå¯é€‰ï¼‰ï¼š
   - å¯ä»¥æ·»åŠ æ•™æ”¹é¡¹ç›®ã€è£èª‰è¡¨å½°ç­‰

   **ä¸‰ã€è´Ÿé¢æ¸…å•**ï¼ˆå¯é€‰ï¼‰ï¼š
   - é»˜è®¤ä¸º0ï¼Œå¯ä»¥ä¸å¡«

3. æ»šåŠ¨åˆ°é¡µé¢åº•éƒ¨

### æ­¥éª¤3ï¼šæäº¤è¡¨å•

1. ç‚¹å‡»"æäº¤è¡¨å•"æŒ‰é’®

2. **é¢„æœŸè¡Œä¸º**ï¼š
   - âœ… ä¸ä¼šå¼¹å‡ºç¡®è®¤å¯¹è¯æ¡†ï¼ˆå·²åˆ é™¤ï¼‰
   - âœ… æ˜¾ç¤º"æ­£åœ¨æäº¤è‡ªè¯„è¡¨ï¼Œè¯·ç¨å€™..."
   - âœ… æ˜¾ç¤º"æäº¤æˆåŠŸï¼æ•°æ®å·²ä¸Šä¼ åˆ°è€ƒè¯„å°ç»„ç«¯"
   - âœ… 1.5ç§’åè‡ªåŠ¨è·³è½¬åˆ°æ•™ç ”å®¤ç«¯ä¸»é¡µ

3. **å¦‚æœå‡ºç°é”™è¯¯**ï¼š
   - æ£€æŸ¥æ˜¯å¦æ‰€æœ‰å¿…å¡«é¡¹éƒ½å·²å¡«å†™
   - æ£€æŸ¥åç«¯æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œ
   - æŒ‰F12æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°æŸ¥çœ‹é”™è¯¯ä¿¡æ¯

### æ­¥éª¤4ï¼šåˆ‡æ¢åˆ°è€ƒè¯„å°ç»„ç«¯

1. ç‚¹å‡»å³ä¸Šè§’é€€å‡ºç™»å½•

2. é‡æ–°è®¿é—®ç™»å½•é¡µé¢ï¼šhttp://localhost:3000/login

3. è¾“å…¥è€ƒè¯„å°ç»„è´¦å·ï¼š
   - ç”¨æˆ·åï¼š`test_eval_team`
   - å¯†ç ï¼š`password123`
   - è§’è‰²ï¼šé€‰æ‹©"è€ƒè¯„å°ç»„"

4. ç‚¹å‡»"ç™»å½•"

### æ­¥éª¤5ï¼šæŸ¥çœ‹æ‰‹åŠ¨è¯„åˆ†åˆ—è¡¨

1. ç™»å½•æˆåŠŸåï¼Œç‚¹å‡»"æ‰‹åŠ¨è¯„åˆ†"æˆ–ç›´æ¥è®¿é—®ï¼š
   ```
   http://localhost:3000/manual-scoring
   ```

2. **é¢„æœŸç»“æœ**ï¼š
   - âœ… çœ‹åˆ°åˆšæ‰æäº¤çš„è‡ªè¯„è¡¨
   - âœ… æ˜¾ç¤ºæ•™ç ”å®¤åç§°ï¼š"Test Teaching Office"
   - âœ… æ˜¾ç¤ºè€ƒè¯„å¹´åº¦ï¼š2025
   - âœ… æ˜¾ç¤ºçŠ¶æ€ï¼š"å·²é”å®š"ï¼ˆæ©™è‰²æ ‡ç­¾ï¼‰
   - âœ… æ˜¾ç¤ºæäº¤æ—¶é—´

3. **éªŒè¯æ•°æ®**ï¼š
   - ç‚¹å‡»"å¼€å§‹è¯„åˆ†"æŒ‰é’®
   - åº”è¯¥èƒ½çœ‹åˆ°åˆšæ‰å¡«å†™çš„è¡¨å•å†…å®¹

## éªŒè¯æ–¹æ³•

### æ–¹æ³•1ï¼šæµè§ˆå™¨æ§åˆ¶å°

1. åœ¨æäº¤è¡¨å•æ—¶ï¼ŒæŒ‰F12æ‰“å¼€å¼€å‘è€…å·¥å…·

2. åˆ‡æ¢åˆ°"Network"æ ‡ç­¾

3. ç‚¹å‡»"æäº¤è¡¨å•"

4. åº”è¯¥çœ‹åˆ°ä»¥ä¸‹APIè°ƒç”¨ï¼š
   ```
   POST /api/teaching-office/self-evaluation (201 Created)
   POST /api/teaching-office/self-evaluation/{id}/submit (200 OK)
   POST /api/teaching-office/trigger-ai-scoring (200 OK)
   ```

5. åœ¨æ‰‹åŠ¨è¯„åˆ†é¡µé¢ï¼Œåº”è¯¥çœ‹åˆ°ï¼š
   ```
   GET /api/scoring/evaluations-for-scoring (200 OK)
   ```

### æ–¹æ³•2ï¼šæ•°æ®åº“æŸ¥è¯¢

åœ¨MySQLä¸­æ‰§è¡Œï¼š

```sql
USE teaching_office_evaluation;

-- æŸ¥çœ‹æœ€æ–°æäº¤çš„è‡ªè¯„è¡¨
SELECT 
    se.id,
    to.name as teaching_office_name,
    se.evaluation_year,
    se.status,
    se.submitted_at,
    se.created_at
FROM self_evaluations se
JOIN teaching_offices to ON se.teaching_office_id = to.id
ORDER BY se.created_at DESC
LIMIT 5;
```

åº”è¯¥çœ‹åˆ°ï¼š
- æœ€æ–°çš„è®°å½•
- status = 'locked' æˆ– 'ai_scored'
- submitted_at æœ‰å€¼

### æ–¹æ³•3ï¼šåç«¯æ—¥å¿—

æŸ¥çœ‹åç«¯æ§åˆ¶å°è¾“å‡ºï¼Œåº”è¯¥çœ‹åˆ°ï¼š

```
INFO:     POST /api/teaching-office/self-evaluation 201 Created
INFO:     POST /api/teaching-office/self-evaluation/{id}/submit 200 OK
INFO:     POST /api/teaching-office/trigger-ai-scoring 200 OK
INFO:     GET /api/scoring/evaluations-for-scoring 200 OK
```

## å¸¸è§é—®é¢˜

### Q1: ç‚¹å‡»æäº¤åæ²¡æœ‰ååº”ï¼Ÿ

**æ£€æŸ¥**ï¼š
1. æ˜¯å¦å·²ç™»å½•ï¼Ÿ
2. æ˜¯å¦å¡«å†™äº†æ‰€æœ‰å¿…å¡«é¡¹ï¼Ÿ
3. æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°æŸ¥çœ‹é”™è¯¯ä¿¡æ¯

### Q2: æç¤º"è¯·å…ˆç™»å½•åå†æäº¤"ï¼Ÿ

**è§£å†³**ï¼š
1. é€€å‡ºç™»å½•
2. é‡æ–°ç™»å½•æ•™ç ”å®¤ç«¯è´¦å·
3. å†æ¬¡å°è¯•æäº¤

### Q3: åœ¨æ‰‹åŠ¨è¯„åˆ†é¡µé¢çœ‹ä¸åˆ°æäº¤çš„è¡¨å•ï¼Ÿ

**æ£€æŸ¥**ï¼š
1. æ˜¯å¦ä½¿ç”¨è€ƒè¯„å°ç»„æˆ–è€ƒè¯„åŠå…¬å®¤è´¦å·ç™»å½•ï¼Ÿ
2. åˆ·æ–°é¡µé¢
3. æŸ¥çœ‹æ•°æ®åº“ç¡®è®¤æ•°æ®æ˜¯å¦å·²ä¿å­˜

### Q4: åç«¯æœåŠ¡æ— æ³•å¯åŠ¨ï¼Ÿ

**è§£å†³**ï¼š
1. æ£€æŸ¥8000ç«¯å£æ˜¯å¦è¢«å ç”¨
2. æ£€æŸ¥Pythonç¯å¢ƒå’Œä¾èµ–æ˜¯å¦å®‰è£…
3. æŸ¥çœ‹åç«¯é”™è¯¯æ—¥å¿—

## æˆåŠŸæ ‡å¿—

å¦‚æœæµ‹è¯•æˆåŠŸï¼Œæ‚¨åº”è¯¥èƒ½å¤Ÿï¼š

âœ… æ•™ç ”å®¤ç«¯å¡«å†™å¹¶æäº¤è¡¨å•
âœ… ä¸éœ€è¦ç¡®è®¤å¯¹è¯æ¡†ï¼Œç›´æ¥æäº¤
âœ… çœ‹åˆ°"æäº¤æˆåŠŸ"æç¤º
âœ… è‡ªåŠ¨è·³è½¬åˆ°ä¸»é¡µ
âœ… åˆ‡æ¢åˆ°è€ƒè¯„å°ç»„ç«¯
âœ… åœ¨æ‰‹åŠ¨è¯„åˆ†åˆ—è¡¨ä¸­çœ‹åˆ°åˆšæäº¤çš„è¡¨å•
âœ… çŠ¶æ€æ˜¾ç¤ºä¸º"å·²é”å®š"
âœ… å¯ä»¥ç‚¹å‡»"å¼€å§‹è¯„åˆ†"è¿›è¡Œæ‰‹åŠ¨è¯„åˆ†

## æµ‹è¯•æ•°æ®

å¦‚æœéœ€è¦å¿«é€Ÿå¡«å†™æµ‹è¯•æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å†…å®¹ï¼š

**æ•™å­¦è¿‡ç¨‹ç®¡ç†**ï¼š
```
åˆ¶å®šäº†å®Œå–„çš„å¹´åº¦å·¥ä½œè®¡åˆ’ï¼Œå„é¡¹æ•™å­¦ç¯èŠ‚è¿è½¬æ­£å¸¸ï¼Œè½å®é›†ä½“å¤‡è¯¾åˆ¶åº¦ã€‚
è‡ªè¯„åˆ†ï¼š9.0
```

**æ•™å­¦è´¨é‡ç®¡ç†**ï¼š
```
å®šæœŸç»„ç»‡æ•™å¸ˆå¬è¯¾å­¦ä¹ ï¼Œå¼€å±•æ•™å­¦è¯„è®®æ´»åŠ¨ï¼Œç§¯æé…åˆå­¦æ ¡æ•™å­¦æ£€æŸ¥ã€‚
è‡ªè¯„åˆ†ï¼š8.5
```

ï¼ˆå…¶ä»–é¡¹ç›®ç±»ä¼¼å¡«å†™ï¼‰

## ä¸‹ä¸€æ­¥

æµ‹è¯•æˆåŠŸåï¼Œæ‚¨å¯ä»¥ï¼š
1. æµ‹è¯•æ‰‹åŠ¨è¯„åˆ†åŠŸèƒ½
2. æµ‹è¯•æœ€ç»ˆå¾—åˆ†ç¡®å®šåŠŸèƒ½
3. æµ‹è¯•ç»“æœå…¬ç¤ºåŠŸèƒ½
4. è¿›è¡Œå®Œæ•´çš„ç«¯åˆ°ç«¯æµ‹è¯•

ç¥æµ‹è¯•é¡ºåˆ©ï¼ğŸ‰
