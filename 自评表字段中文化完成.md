# 自评表字段中文化完成

## 完成时间
2026-02-13

## 问题描述
在手动评分页面的"自评表内容"标签页中，显示的字段名都是英文（如 `teachingHonors`、`teachingCompetitions`、`negativeList` 等），不便于用户理解。

## 解决方案
扩展了 `getSectionTitle` 和 `getItemLabel` 函数，添加了完整的英文到中文的字段映射。

## 修改内容

### 1. 扩展 getSectionTitle 函数
添加了英文章节名称的映射：

```typescript
const getSectionTitle = (sectionKey: string): string => {
  const titles: Record<string, string> = {
    // 原有的中文章节
    'section1': '一、教学常规管理',
    'section2': '二、教学改革与研究',
    'section3': '三、教学质量与成果',
    'section4': '四、师资队伍建设',
    'section5': '五、教学资源建设',
    // 新增英文字段名映射
    'teachingManagement': '教学常规管理',
    'teachingReform': '教学改革与研究',
    'teachingQuality': '教学质量与成果',
    'facultyDevelopment': '师资队伍建设',
    'teachingResources': '教学资源建设',
    'positiveList': '正面清单',
    'negativeList': '负面清单'
  }
  return titles[sectionKey] || sectionKey
}
```

### 2. 扩展 getItemLabel 函数
添加了完整的字段名映射表：

```typescript
const getItemLabel = (itemKey: string): string => {
  const labels: Record<string, string> = {
    // 正面清单
    'teachingHonors': '教学荣誉',
    'teachingCompetitions': '教学竞赛',
    'innovationCompetitions': '创新创业竞赛',
    'teachingReformProjects': '教学改革项目',
    'teachingAchievements': '教学成果',
    'courseConstruction': '课程建设',
    'textbookConstruction': '教材建设',
    'teachingTeamBuilding': '教学团队建设',
    'facultyTraining': '师资培训',
    'practiceBaseConstruction': '实践基地建设',
    'laboratoryConstruction': '实验室建设',
    'teachingFacilityImprovement': '教学设施改善',
    // 负面清单
    'ideologyIssues': '意识形态问题',
    'ethicsViolations': '师德师风问题',
    'teachingAccidents': '教学事故',
    'workloadIncomplete': '工作量不完整',
    // 其他字段
    'description': '描述',
    'content': '内容',
    'selfScore': '自评分',
    'evidence': '佐证材料',
    'remarks': '备注'
  }
  
  // 优先返回映射的中文
  if (labels[itemKey]) {
    return labels[itemKey]
  }
  
  // 尝试从 item1_1 格式提取
  const match = itemKey.match(/item(\d+)_(\d+)/)
  if (match) {
    return `${match[1]}.${match[2]}`
  }
  
  // 返回原始key
  return itemKey
}
```

## 字段映射表

### 正面清单字段
| 英文字段 | 中文显示 |
|---------|---------|
| teachingHonors | 教学荣誉 |
| teachingCompetitions | 教学竞赛 |
| innovationCompetitions | 创新创业竞赛 |
| teachingReformProjects | 教学改革项目 |
| teachingAchievements | 教学成果 |
| courseConstruction | 课程建设 |
| textbookConstruction | 教材建设 |
| teachingTeamBuilding | 教学团队建设 |
| facultyTraining | 师资培训 |
| practiceBaseConstruction | 实践基地建设 |
| laboratoryConstruction | 实验室建设 |
| teachingFacilityImprovement | 教学设施改善 |

### 负面清单字段
| 英文字段 | 中文显示 |
|---------|---------|
| ideologyIssues | 意识形态问题 |
| ethicsViolations | 师德师风问题 |
| teachingAccidents | 教学事故 |
| workloadIncomplete | 工作量不完整 |

### 章节字段
| 英文字段 | 中文显示 |
|---------|---------|
| teachingManagement | 教学常规管理 |
| teachingReform | 教学改革与研究 |
| teachingQuality | 教学质量与成果 |
| facultyDevelopment | 师资队伍建设 |
| teachingResources | 教学资源建设 |
| positiveList | 正面清单 |
| negativeList | 负面清单 |

## 显示效果

### 修改前
```
teachingHonors
teachingCompetitions
innovationCompetitions
negativeList
  ideologyIssues
  ethicsViolations
```

### 修改后
```
教学荣誉
教学竞赛
创新创业竞赛
负面清单
  意识形态问题
  师德师风问题
```

## 扩展性
如果将来需要添加新的字段映射，只需要在 `labels` 对象中添加新的键值对即可：

```typescript
const labels: Record<string, string> = {
  // ... 现有映射
  'newField': '新字段中文名',
  'anotherField': '另一个字段中文名'
}
```

## 测试建议
1. 访问手动评分页面
2. 选择一个教研室进行评分
3. 点击"自评表内容"标签页
4. 检查所有字段名是否都显示为中文
5. 检查章节标题是否正确显示

## 相关文件
- `frontend/src/components/ManualScoringForm.vue` - 修改的文件
- `手动评分页面优化完成.md` - 之前的优化文档

## 注意事项
1. 如果数据库中使用了新的字段名，需要在映射表中添加对应的中文翻译
2. 映射函数会优先使用映射表，如果找不到映射则返回原始字段名
3. 保持了对 `item1_1` 格式的兼容性
