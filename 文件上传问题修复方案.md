# 文件上传问题修复方案

## 问题诊断

教研室端无法上传文件的原因：
1. ❌ MinIO 服务未启动（端口 9000 未监听）
2. ❌ Docker Desktop 未运行

## 解决方案

### 方案一：启动 MinIO 服务（推荐）

#### 步骤 1：启动 Docker Desktop
1. 打开 Docker Desktop 应用程序
2. 等待 Docker 完全启动（图标变绿）

#### 步骤 2：启动 MinIO 服务
```bash
# 在项目根目录执行
docker-compose up -d minio
```

#### 步骤 3：验证 MinIO 服务
```bash
# 检查服务状态
docker ps | findstr minio

# 访问 MinIO 控制台
# 浏览器打开: http://localhost:9001
# 用户名: minioadmin
# 密码: minioadmin
```

#### 步骤 4：重启后端服务
MinIO 启动后，重启后端服务即可正常上传文件。

---

### 方案二：使用本地文件系统（临时方案）

如果无法启动 Docker，可以临时使用本地文件系统存储：

#### 修改后端配置
1. 修改 `backend/app/services/minio_service.py`
2. 添加本地文件系统存储逻辑
3. 文件保存到 `backend/uploads/` 目录

---

### 方案三：下载独立版 MinIO（无需 Docker）

#### Windows 系统
```bash
# 下载 MinIO
curl -O https://dl.min.io/server/minio/release/windows-amd64/minio.exe

# 创建数据目录
mkdir minio-data

# 启动 MinIO
set MINIO_ROOT_USER=minioadmin
set MINIO_ROOT_PASSWORD=minioadmin
minio.exe server minio-data --console-address ":9001"
```

#### 验证服务
- API 端口: http://localhost:9000
- 控制台: http://localhost:9001

---

## 快速修复脚本

我将创建一个脚本来自动检测和修复问题。

---

## 当前状态

- ✅ 前端服务运行正常 (端口 3000)
- ✅ 后端服务运行正常 (端口 8000)
- ❌ MinIO 服务未运行 (端口 9000)
- ❌ Docker Desktop 未运行

---

## 建议

**立即执行**：启动 Docker Desktop 和 MinIO 服务（方案一）

这是最简单、最稳定的解决方案。
