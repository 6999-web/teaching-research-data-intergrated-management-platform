# 教研室数据综合管理平台 - 四角色完整UI设计方案

## 📋 文档概述

本文档为【教研室数据综合管理平台】设计四个角色的完整前端界面与工作流，确保每个角色的界面、菜单、权限、视觉重点完全不同，工作流完全区分。

### 设计原则

1. **角色差异化**: 四个角色界面、菜单、权限、视觉重点完全不同
2. **流程可视化**: 每个角色页面都加入对应步骤流程条，高亮当前角色所处节点
3. **官方严谨**: 整体风格符合国内高校教务管理系统的官方、正式、严谨、层级清晰特点
4. **权限清晰**: 每个角色只能看到和操作自己权限范围内的功能
5. **操作引导**: 提供清晰的操作引导和帮助信息

### 四个角色定义

| 角色 | 英文标识 | 主要职责 | 权限级别 |
|------|---------|---------|---------|
| 普通教师 | `teacher` | 查看本教研室考评结果、反馈详情 | 只读 |
| 教研室负责人 | `director` | 填报自评、管理材料、提交改进措施 | 读写（本教研室） |
| 二级学院负责人 | `college_leader` | 查看全院数据分析、督导整改落实 | 只读（全院）+ 审核 |
| 学校教务处负责人 | `academic_affairs` | 手动评分、异常处理、公示管理 | 读写（全校）+ 管理 |

---

## 🎨 整体设计规范

### 配色方案

采用国内高校教务系统常用的蓝色系，庄重、专业、权威：


#### 基础配色

- **主色调**: #1e3a5f (警察蓝/教务蓝)
- **辅助色**: #2c4a6d (深蓝色)
- **强调色**: #7cb342 (绿色 - 用于成功、完成状态)
- **警告色**: #ff9800 (橙色 - 用于待处理、异常)
- **错误色**: #f44336 (红色 - 用于错误、驳回)
- **背景色**: #f5f7fa (浅灰色)
- **卡片背景**: #ffffff (白色)
- **文字主色**: #333333 (深灰色)
- **文字辅色**: #666666 (中灰色)

#### 角色专属配色

为了区分不同角色，每个角色使用不同的强调色：

| 角色 | 专属强调色 | 色值 | 用途 |
|------|-----------|------|------|
| 普通教师 | 天蓝色 | #42a5f5 | 侧边栏激活、按钮、图标 |
| 教研室负责人 | 深绿色 | #66bb6a | 侧边栏激活、按钮、图标 |
| 二级学院负责人 | 紫色 | #ab47bc | 侧边栏激活、按钮、图标 |
| 学校教务处负责人 | 橙红色 | #ff7043 | 侧边栏激活、按钮、图标 |

### 字体规范

- **标题字体**: 微软雅黑 / PingFang SC / sans-serif
- **正文字体**: 微软雅黑 / PingFang SC / sans-serif
- **数字字体**: Arial / Helvetica / sans-serif

### 布局规范

所有角色采用统一的平台布局结构：

```
┌────────────┬──────────────────────────────────────┐
│            │   顶部导航栏 (面包屑 + 用户信息)      │
│            ├──────────────────────────────────────┤
│            │   流程条 (显示当前角色在流程中的位置) │
│  侧边导航   ├──────────────────────────────────────┤
│            │                                      │
│  (固定)    │   主内容区                            │
│            │   (根据选中菜单动态切换)              │
│            │                                      │
│            ├──────────────────────────────────────┤
│            │   页脚                                │
└────────────┴──────────────────────────────────────┘
```


---

## 🔄 全流程步骤条设计

### 流程节点定义

教研室工作考评系统包含以下8个主要流程节点：

```
1. 自评填报 → 2. 材料上传 → 3. AI评分 → 4. 手动评分 → 5. 最终得分 → 6. 数据审定 → 7. 结果公示 → 8. 改进闭环
```

### 流程条组件设计

每个角色页面顶部都显示流程条，但高亮的节点不同：

#### 流程条样式

```vue
<template>
  <div class="process-bar">
    <div 
      v-for="(step, index) in steps" 
      :key="index"
      class="process-step"
      :class="{
        'active': currentStep === index + 1,
        'completed': currentStep > index + 1,
        'highlight': highlightSteps.includes(index + 1)
      }"
    >
      <div class="step-number">{{ index + 1 }}</div>
      <div class="step-label">{{ step.label }}</div>
      <div class="step-line" v-if="index < steps.length - 1"></div>
    </div>
  </div>
</template>
```

#### 各角色高亮节点

| 角色 | 高亮节点 | 说明 |
|------|---------|------|
| 普通教师 | 1, 2, 8 | 参与自评填报、材料上传、查看改进措施 |
| 教研室负责人 | 1, 2, 3, 8 | 负责自评填报、材料上传、触发AI评分、提交改进措施 |
| 二级学院负责人 | 8 | 审核和督导改进措施 |
| 学校教务处负责人 | 3, 4, 5, 7 | 负责AI评分监控、手动评分、确定最终得分、发起公示 |


---

## 👨‍🏫 角色一：普通教师 (Teacher)

### 角色定位

- **权限**: 只读权限，只能查看本教研室的考评结果和反馈详情
- **主要任务**: 了解本教研室的考评情况，查看改进建议
- **视觉重点**: 结果展示、数据可视化、反馈信息

### 侧边导航菜单

```
📊 我的教研室
  └─ 考评结果
  └─ 评分详情
  └─ 改进措施

📈 数据分析
  └─ 历史对比
  └─ 指标雷达图

📋 帮助中心
  └─ 使用指南
  └─ 常见问题
```

### 主要页面设计

#### 1. 考评结果页面

**页面布局**:

```
┌─────────────────────────────────────────────┐
│ 流程条: 高亮节点 1, 2, 8                     │
├─────────────────────────────────────────────┤
│ 【教研室概览卡片】                           │
│  教研室名称: XXX教研室                       │
│  考评年度: 2024年                            │
│  最终得分: 85.5分                            │
│  全校排名: 第5名 / 共30个教研室              │
│  状态: 已公示                                │
├─────────────────────────────────────────────┤
│ 【得分构成】                                 │
│  ┌─────────┬─────────┬─────────┬─────────┐ │
│  │ AI评分  │ 小组评分 │ 办公室  │ 最终得分 │ │
│  │ 82分    │ 88分     │ 86分    │ 85.5分  │ │
│  └─────────┴─────────┴─────────┴─────────┘ │
├─────────────────────────────────────────────┤
│ 【各项指标得分】(柱状图)                     │
│  教学过程管理: ████████░░ 80%               │
│  课程建设:     ██████████ 100%              │
│  教学改革:     ██████░░░░ 60%               │
│  荣誉表彰:     ████████░░ 80%               │
└─────────────────────────────────────────────┘
```

**功能特点**:
- 只读展示，无编辑功能
- 数据可视化（柱状图、雷达图）
- 清晰的排名和对比信息


#### 2. 评分详情页面

**页面布局**:

```
┌─────────────────────────────────────────────┐
│ 【评审人打分记录】                           │
│  ┌───────────────────────────────────────┐ │
│  │ 考评小组 - 张三 (权重: 40%)           │ │
│  │ 评分: 88分                             │ │
│  │ 评语: 教学过程管理规范，课程建设成效  │ │
│  │       显著，建议加强教学改革项目申报  │ │
│  └───────────────────────────────────────┘ │
│  ┌───────────────────────────────────────┐ │
│  │ 考评小组 - 李四 (权重: 40%)           │ │
│  │ 评分: 86分                             │ │
│  │ 评语: 整体表现良好，荣誉表彰有待提升  │ │
│  └───────────────────────────────────────┘ │
│  ┌───────────────────────────────────────┐ │
│  │ 考评办公室 - 王五 (权重: 20%)         │ │
│  │ 评分: 85分                             │ │
│  │ 评语: 符合考评标准，继续保持          │ │
│  └───────────────────────────────────────┘ │
├─────────────────────────────────────────────┤
│ 【系统生成的感悟总结】                       │
│  该教研室在课程建设、教学过程管理等指标表现 │
│  突出，得分较高。但在教学改革项目、荣誉表彰 │
│  等方面有待提升。建议加强教学改革项目申报、 │
│  积极参与各类教学竞赛等工作。               │
└─────────────────────────────────────────────┘
```

#### 3. 改进措施页面

**页面布局**:

```
┌─────────────────────────────────────────────┐
│ 【待提升指标】                               │
│  • 教学改革项目 (得分: 60%)                  │
│  • 荣誉表彰 (得分: 80%)                      │
├─────────────────────────────────────────────┤
│ 【改进措施】(由教研室负责人填写)             │
│  ┌───────────────────────────────────────┐ │
│  │ 指标: 教学改革项目                     │ │
│  │ 目标: 2025年申报省级教改项目2项        │ │
│  │ 责任人: 张三                           │ │
│  │ 完成时限: 2025年6月                    │ │
│  │ 具体措施:                              │ │
│  │ 1. 组织教研室成员学习教改项目申报要求  │ │
│  │ 2. 邀请专家进行项目申报指导            │ │
│  │ 3. 组建项目团队，明确分工              │ │
│  │ 状态: 学院已审核 ✓                     │ │
│  └───────────────────────────────────────┘ │
└─────────────────────────────────────────────┘
```

**功能特点**:
- 只读查看改进措施
- 显示审核状态
- 无编辑权限


### 界面配色

- **侧边栏激活色**: #42a5f5 (天蓝色)
- **按钮主色**: #42a5f5
- **图标色**: #42a5f5
- **强调文字**: #42a5f5

### 交互设计

1. **只读模式**: 所有数据展示为只读，无编辑按钮
2. **数据刷新**: 提供"刷新数据"按钮，获取最新考评结果
3. **导出功能**: 提供"导出PDF"按钮，导出考评报告
4. **帮助提示**: 关键数据旁边显示"?"图标，点击查看说明

---

## 👨‍💼 角色二：教研室负责人 (Director)

### 角色定位

- **权限**: 读写权限（仅限本教研室），负责自评填报、材料管理、改进措施提交
- **主要任务**: 填写自评表、上传附件、触发AI评分、提交改进措施
- **视觉重点**: 表单填写、文件上传、操作按钮、进度提示

### 侧边导航菜单

```
📝 自评管理
  └─ 填写自评表
  └─ 查看自评表

📎 材料管理
  └─ 上传附件
  └─ 附件列表
  └─ 分类管理

🤖 AI评分
  └─ 触发评分
  └─ 评分结果

📊 考评结果
  └─ 最终得分
  └─ 评分详情
  └─ 历史对比

🔄 改进闭环
  └─ 提交改进措施
  └─ 查看审核状态

📋 帮助中心
  └─ 填报指南
  └─ 常见问题
```


### 主要页面设计

#### 1. 填写自评表页面

**页面布局**:

```
┌─────────────────────────────────────────────┐
│ 流程条: 高亮节点 1 (当前), 2, 3, 8           │
├─────────────────────────────────────────────┤
│ 【基本信息】                                 │
│  教研室名称: XXX教研室 (自动填充)            │
│  考评年度: 2024年 (自动填充)                 │
│  填报人: 张三 (自动填充)                     │
│  填报时间: 2024-12-01 (自动填充)             │
├─────────────────────────────────────────────┤
│ 【教学过程管理】(必填)                       │
│  ┌───────────────────────────────────────┐ │
│  │ 请详细描述本教研室在教学过程管理方面的 │ │
│  │ 工作情况，包括教学计划制定、教学检查、 │ │
│  │ 教学质量监控等方面...                  │ │
│  │                                        │ │
│  │ (富文本编辑器，支持格式化)             │ │
│  └───────────────────────────────────────┘ │
├─────────────────────────────────────────────┤
│ 【课程建设】(必填)                           │
│  ┌───────────────────────────────────────┐ │
│  │ 请详细描述本教研室在课程建设方面的工作 │ │
│  │ 情况，包括课程大纲修订、教材建设、在线 │ │
│  │ 课程建设等方面...                      │ │
│  └───────────────────────────────────────┘ │
├─────────────────────────────────────────────┤
│ 【教学改革项目】(必填)                       │
│  项目个数: [____] 项 (请填写数字)            │
│  说明: 请在"材料管理"中上传对应的项目证书   │
├─────────────────────────────────────────────┤
│ 【荣誉表彰】(必填)                           │
│  荣誉个数: [____] 项 (请填写数字)            │
│  说明: 请在"材料管理"中上传对应的荣誉证书   │
├─────────────────────────────────────────────┤
│ [保存草稿] [预览] [提交]                     │
└─────────────────────────────────────────────┘
```

**功能特点**:
- 实时保存草稿
- 必填项校验（红色星号标记）
- 字数统计和限制
- 提交前预览功能
- 提交后自动锁定


#### 2. 上传附件页面

**页面布局**:

```
┌─────────────────────────────────────────────┐
│ 流程条: 高亮节点 1, 2 (当前), 3, 8           │
├─────────────────────────────────────────────┤
│ 【附件上传指南】                             │
│  请按照考核指标分类上传支撑材料，确保附件清晰 │
│  可读。支持的文件格式: PDF, JPG, PNG, DOCX  │
├─────────────────────────────────────────────┤
│ 【教学改革项目附件】(已填写2项)              │
│  ┌───────────────────────────────────────┐ │
│  │ [+] 点击上传或拖拽文件到此处           │ │
│  └───────────────────────────────────────┘ │
│  已上传文件:                                 │
│  • 省级教改项目证书.pdf (1.2MB) [删除]      │
│  • 校级教改项目证书.pdf (0.8MB) [删除]      │
├─────────────────────────────────────────────┤
│ 【荣誉表彰附件】(已填写3项)                  │
│  ┌───────────────────────────────────────┐ │
│  │ [+] 点击上传或拖拽文件到此处           │ │
│  └───────────────────────────────────────┘ │
│  已上传文件:                                 │
│  • 优秀教学团队证书.pdf (1.5MB) [删除]      │
│  • 教学成果奖证书.pdf (1.0MB) [删除]        │
│  • 优秀教师证书.pdf (0.9MB) [删除]          │
├─────────────────────────────────────────────┤
│ 【课程建设附件】(可选)                       │
│  ┌───────────────────────────────────────┐ │
│  │ [+] 点击上传或拖拽文件到此处           │ │
│  └───────────────────────────────────────┘ │
├─────────────────────────────────────────────┤
│ 上传进度: ████████████████░░░░ 80%          │
│ [保存] [全部提交]                            │
└─────────────────────────────────────────────┘
```

**功能特点**:
- 拖拽上传
- 批量上传
- 上传进度显示
- 文件预览
- 文件删除（提交前）
- 自动关联考核指标

#### 3. 触发AI评分页面

**页面布局**:

```
┌─────────────────────────────────────────────┐
│ 流程条: 高亮节点 1, 2, 3 (当前), 8           │
├─────────────────────────────────────────────┤
│ 【AI评分准备检查】                           │
│  ✓ 自评表已提交                              │
│  ✓ 教学改革项目附件已上传 (2/2)              │
│  ✓ 荣誉表彰附件已上传 (3/3)                  │
│  ✓ 所有必填项已完成                          │
├─────────────────────────────────────────────┤
│ 【AI评分说明】                               │
│  AI评分将自动解析您提交的自评表和附件，并根据 │
│  预设的评分标准进行评分。评分过程需要3-5分钟， │
│  请耐心等待。                                 │
├─────────────────────────────────────────────┤
│ [触发AI评分]                                 │
├─────────────────────────────────────────────┤
│ 【AI评分结果】(评分完成后显示)               │
│  总分: 82分                                  │
│  教学过程管理: 85分                          │
│  课程建设: 90分                              │
│  教学改革项目: 75分 (解析出2项)              │
│  荣誉表彰: 80分 (解析出3项)                  │
│                                              │
│  ⚠️ 异常提示:                                │
│  教学改革项目: 自评表填写2项，附件解析出2项 ✓│
│  荣誉表彰: 自评表填写3项，附件解析出3项 ✓    │
└─────────────────────────────────────────────┘
```


#### 4. 提交改进措施页面

**页面布局**:

```
┌─────────────────────────────────────────────┐
│ 流程条: 高亮节点 1, 2, 3, 8 (当前)           │
├─────────────────────────────────────────────┤
│ 【待提升指标分析】                           │
│  根据本次考评结果，以下指标得分较低，需要改进: │
│  • 教学改革项目 (得分: 75分，低于平均分80分) │
│  • 荣誉表彰 (得分: 80分，低于平均分85分)     │
├─────────────────────────────────────────────┤
│ 【改进措施表单】                             │
│  指标选择: [教学改革项目 ▼]                  │
│                                              │
│  改进目标: (必填)                            │
│  ┌───────────────────────────────────────┐ │
│  │ 2025年申报省级教改项目2项，校级教改项目│ │
│  │ 3项，提升教学改革项目得分至85分以上    │ │
│  └───────────────────────────────────────┘ │
│                                              │
│  责任人: (必填)                              │
│  [张三 ▼] (教研室成员列表)                   │
│                                              │
│  完成时限: (必填)                            │
│  [2025-06-30] (日期选择器)                   │
│                                              │
│  具体措施: (必填)                            │
│  ┌───────────────────────────────────────┐ │
│  │ 1. 组织教研室成员学习教改项目申报要求  │ │
│  │ 2. 邀请专家进行项目申报指导            │ │
│  │ 3. 组建项目团队，明确分工              │ │
│  │ 4. 定期召开项目研讨会，推进项目进展    │ │
│  │ (富文本编辑器)                         │ │
│  └───────────────────────────────────────┘ │
│                                              │
│  [+ 添加另一项改进措施]                      │
│  [保存草稿] [提交审核]                       │
└─────────────────────────────────────────────┘
```

**功能特点**:
- 自动识别待提升指标
- 多项改进措施管理
- 责任人分配
- 时限设置
- 提交后等待学院审核

### 界面配色

- **侧边栏激活色**: #66bb6a (深绿色)
- **按钮主色**: #66bb6a
- **图标色**: #66bb6a
- **强调文字**: #66bb6a

### 交互设计

1. **表单自动保存**: 每30秒自动保存草稿
2. **提交确认**: 提交前弹出确认对话框
3. **锁定提示**: 提交后显示"已锁定"状态，无法编辑
4. **进度提示**: 显示当前完成进度（如"3/5步骤已完成"）
5. **操作引导**: 首次使用时显示操作引导动画


---

## 👨‍🎓 角色三：二级学院负责人 (College Leader)

### 角色定位

- **权限**: 只读权限（全院数据）+ 审核权限（改进措施）
- **主要任务**: 查看全院教研室考评对比、审核改进措施、督导整改落实
- **视觉重点**: 数据对比、趋势分析、审核操作、督导记录

### 侧边导航菜单

```
📊 学院驾驶舱
  └─ 全院概览
  └─ 教研室对比
  └─ 指标分析

📈 数据分析
  └─ 横向对比
  └─ 纵向趋势
  └─ 共性问题

🔍 整改督导
  └─ 改进措施审核
  └─ 执行进度跟踪
  └─ 督导记录

📋 报表中心
  └─ 学院报告
  └─ 导出数据

📋 帮助中心
  └─ 使用指南
  └─ 常见问题
```

### 主要页面设计

#### 1. 全院概览页面

**页面布局**:

```
┌─────────────────────────────────────────────┐
│ 流程条: 高亮节点 8 (改进闭环)                │
├─────────────────────────────────────────────┤
│ 【学院整体情况】                             │
│  学院名称: 计算机学院                        │
│  教研室总数: 8个                             │
│  平均得分: 83.5分                            │
│  最高分: 92分 (软件工程教研室)               │
│  最低分: 75分 (网络工程教研室)               │
├─────────────────────────────────────────────┤
│ 【教研室排名】(柱状图)                       │
│  软件工程    ████████████████████ 92分       │
│  计算机科学  ██████████████████░░ 88分       │
│  人工智能    ████████████████░░░░ 85分       │
│  数据科学    ██████████████░░░░░░ 82分       │
│  信息安全    ████████████░░░░░░░░ 80分       │
│  物联网      ██████████░░░░░░░░░░ 78分       │
│  网络工程    ████████░░░░░░░░░░░░ 75分       │
│  嵌入式      ██████████████░░░░░░ 81分       │
├─────────────────────────────────────────────┤
│ 【各指标平均得分】(雷达图)                   │
│       教学过程管理                           │
│           /\                                 │
│          /  \                                │
│  荣誉表彰    课程建设                        │
│          \  /                                │
│           \/                                 │
│       教学改革项目                           │
└─────────────────────────────────────────────┘
```


#### 2. 教研室对比页面

**页面布局**:

```
┌─────────────────────────────────────────────┐
│ 【筛选条件】                                 │
│  考评年度: [2024年 ▼]                        │
│  对比指标: [全部指标 ▼]                      │
│  排序方式: [总分降序 ▼]                      │
├─────────────────────────────────────────────┤
│ 【对比表格】                                 │
│ ┌────┬──────┬────┬────┬────┬────┬────┐    │
│ │排名│教研室│总分│教学│课程│教改│荣誉│    │
│ │    │      │    │过程│建设│项目│表彰│    │
│ ├────┼──────┼────┼────┼────┼────┼────┤    │
│ │ 1  │软件  │ 92 │ 90 │ 95 │ 88 │ 92 │    │
│ │ 2  │计科  │ 88 │ 85 │ 90 │ 85 │ 88 │    │
│ │ 3  │人工  │ 85 │ 82 │ 88 │ 82 │ 85 │    │
│ │ 4  │数据  │ 82 │ 80 │ 85 │ 78 │ 82 │    │
│ │ 5  │嵌入  │ 81 │ 78 │ 82 │ 80 │ 80 │    │
│ │ 6  │信安  │ 80 │ 75 │ 80 │ 78 │ 82 │    │
│ │ 7  │物联  │ 78 │ 72 │ 78 │ 75 │ 78 │    │
│ │ 8  │网络  │ 75 │ 70 │ 75 │ 72 │ 75 │    │
│ └────┴──────┴────┴────┴────┴────┴────┘    │
├─────────────────────────────────────────────┤
│ 【共性问题分析】                             │
│  根据全院数据分析，发现以下共性问题:         │
│  1. 教学改革项目申报数量普遍偏低，平均得分   │
│     仅为79.75分，低于其他指标               │
│  2. 网络工程、物联网教研室整体得分偏低，需要 │
│     重点关注和支持                           │
│  3. 课程建设方面表现较好，平均得分84.13分   │
└─────────────────────────────────────────────┘
```

#### 3. 改进措施审核页面

**页面布局**:

```
┌─────────────────────────────────────────────┐
│ 【待审核改进措施】(3项)                      │
│  ┌───────────────────────────────────────┐ │
│  │ 教研室: 网络工程教研室                 │ │
│  │ 指标: 教学改革项目                     │ │
│  │ 目标: 2025年申报省级教改项目1项        │ │
│  │ 责任人: 李四                           │ │
│  │ 完成时限: 2025-06-30                   │ │
│  │ 具体措施:                              │ │
│  │ 1. 组织教研室成员学习教改项目申报要求  │ │
│  │ 2. 邀请专家进行项目申报指导            │ │
│  │ 3. 组建项目团队，明确分工              │ │
│  │                                        │ │
│  │ 审核意见: (必填)                       │ │
│  │ ┌─────────────────────────────────┐  │ │
│  │ │ 改进措施具体可行，目标明确，同意   │ │ │
│  │ │ 通过。建议加强项目团队建设，定期   │ │ │
│  │ │ 跟踪项目进展。                     │ │ │
│  │ └─────────────────────────────────┘  │ │
│  │                                        │ │
│  │ [通过] [驳回] [暂存]                   │ │
│  └───────────────────────────────────────┘ │
├─────────────────────────────────────────────┤
│ 【已审核改进措施】(5项)                      │
│  • 软件工程教研室 - 教学改革项目 (已通过)   │
│  • 计算机科学教研室 - 荣誉表彰 (已通过)     │
│  • 人工智能教研室 - 教学改革项目 (已通过)   │
│  ...                                         │
└─────────────────────────────────────────────┘
```


#### 4. 执行进度跟踪页面

**页面布局**:

```
┌─────────────────────────────────────────────┐
│ 【改进措施执行情况】                         │
│  ┌───────────────────────────────────────┐ │
│  │ 教研室: 网络工程教研室                 │ │
│  │ 指标: 教学改革项目                     │ │
│  │ 目标: 2025年申报省级教改项目1项        │ │
│  │ 责任人: 李四                           │ │
│  │ 完成时限: 2025-06-30                   │ │
│  │ 当前状态: 执行中                       │ │
│  │                                        │ │
│  │ 执行进度: ████████░░░░░░░░░░ 40%      │ │
│  │                                        │ │
│  │ 进度更新记录:                          │ │
│  │ • 2024-12-15: 已组织教研室成员学习     │ │
│  │ • 2024-12-20: 已邀请专家进行指导       │ │
│  │ • 2025-01-10: 项目团队已组建           │ │
│  │                                        │ │
│  │ 督导批注: (学院领导可添加)             │ │
│  │ ┌─────────────────────────────────┐  │ │
│  │ │ 进展良好，建议加快项目申报书撰写   │ │ │
│  │ │ 进度，确保按时完成申报。           │ │ │
│  │ └─────────────────────────────────┘  │ │
│  │                                        │ │
│  │ [添加督导批注] [查看详情]              │ │
│  └───────────────────────────────────────┘ │
└─────────────────────────────────────────────┘
```

**功能特点**:
- 实时查看改进措施执行进度
- 添加督导批注
- 进度更新记录时间线
- 预警逾期未完成的措施

### 界面配色

- **侧边栏激活色**: #ab47bc (紫色)
- **按钮主色**: #ab47bc
- **图标色**: #ab47bc
- **强调文字**: #ab47bc

### 交互设计

1. **数据筛选**: 支持按年度、指标、教研室筛选数据
2. **数据导出**: 提供"导出Excel"按钮，导出对比数据
3. **审核操作**: 通过/驳回操作需要填写审核意见
4. **批注功能**: 支持在线添加督导批注，实时同步
5. **预警提示**: 逾期未完成的改进措施显示红色预警


---

## 👨‍💻 角色四：学校教务处负责人 (Academic Affairs)

### 角色定位

- **权限**: 读写权限（全校数据）+ 管理权限（评分、公示、异常处理）
- **主要任务**: 手动评分、确定最终得分、处理异常数据、发起公示
- **视觉重点**: 评分操作、异常处理、公示管理、全校数据监控

### 侧边导航菜单

```
📊 监控中心
  └─ 全校概览
  └─ 实时数据
  └─ AI评分监控

✍️ 评分管理
  └─ 手动评分
  └─ 最终得分确定
  └─ 评分记录查询

⚠️ 异常处理
  └─ 异常数据列表
  └─ 处理记录

📢 公示管理
  └─ 发起公示
  └─ 公示状态
  └─ 结果分发

🔄 数据同步
  └─ 同步至校长办公会
  └─ 同步记录

📋 系统管理
  └─ 用户管理
  └─ 权限配置
  └─ 系统日志

📋 帮助中心
  └─ 操作手册
  └─ 常见问题
```

### 主要页面设计

#### 1. 全校概览页面

**页面布局**:

```
┌─────────────────────────────────────────────┐
│ 流程条: 高亮节点 3, 4, 5, 7                  │
├─────────────────────────────────────────────┤
│ 【全校整体情况】                             │
│  教研室总数: 30个                            │
│  已完成自评: 28个 (93.3%)                    │
│  已完成AI评分: 28个 (93.3%)                  │
│  已完成手动评分: 25个 (83.3%)                │
│  已确定最终得分: 20个 (66.7%)                │
│  已公示: 0个 (0%)                            │
├─────────────────────────────────────────────┤
│ 【各学院平均得分】(柱状图)                   │
│  计算机学院  ████████████████░░ 83.5分       │
│  电子学院    ██████████████░░░░ 81.2分       │
│  机械学院    ████████████░░░░░░ 79.8分       │
│  材料学院    ██████████░░░░░░░░ 77.5分       │
│  ...                                         │
├─────────────────────────────────────────────┤
│ 【待处理事项】                               │
│  • 异常数据: 3项 (需要处理)                  │
│  • 待手动评分: 3个教研室                     │
│  • 待确定最终得分: 8个教研室                 │
│  • 待同步至校长办公会: 20个教研室            │
└─────────────────────────────────────────────┘
```


#### 2. 手动评分页面

**页面布局**:

```
┌─────────────────────────────────────────────┐
│ 流程条: 高亮节点 3, 4 (当前), 5, 7           │
├─────────────────────────────────────────────┤
│ 【选择教研室】                               │
│  学院: [计算机学院 ▼]                        │
│  教研室: [软件工程教研室 ▼]                  │
│  [加载数据]                                  │
├─────────────────────────────────────────────┤
│ 【教研室基本信息】                           │
│  教研室名称: 软件工程教研室                  │
│  负责人: 张三                                │
│  AI评分: 82分                                │
│  考评小组评分: 88分 (已评)                   │
├─────────────────────────────────────────────┤
│ 【自评表内容】(可展开查看)                   │
│  [展开] 教学过程管理                         │
│  [展开] 课程建设                             │
│  [展开] 教学改革项目 (填写2项)               │
│  [展开] 荣誉表彰 (填写3项)                   │
├─────────────────────────────────────────────┤
│ 【附件列表】(可预览)                         │
│  教学改革项目:                               │
│  • 省级教改项目证书.pdf [预览]               │
│  • 校级教改项目证书.pdf [预览]               │
│  荣誉表彰:                                   │
│  • 优秀教学团队证书.pdf [预览]               │
│  • 教学成果奖证书.pdf [预览]                 │
│  • 优秀教师证书.pdf [预览]                   │
├─────────────────────────────────────────────┤
│ 【评分表单】                                 │
│  评审人角色: 考评办公室 (权重: 20%)          │
│                                              │
│  教学过程管理: [____] 分 (满分100)           │
│  评语: ┌─────────────────────────────────┐ │
│        │ 教学过程管理规范，教学检查到位   │ │
│        └─────────────────────────────────┘ │
│                                              │
│  课程建设: [____] 分 (满分100)               │
│  评语: ┌─────────────────────────────────┐ │
│        │ 课程建设成效显著，在线课程质量高 │ │
│        └─────────────────────────────────┘ │
│                                              │
│  教学改革项目: [____] 分 (满分100)           │
│  评语: ┌─────────────────────────────────┐ │
│        │ 项目数量符合要求，质量较高       │ │
│        └─────────────────────────────────┘ │
│                                              │
│  荣誉表彰: [____] 分 (满分100)               │
│  评语: ┌─────────────────────────────────┐ │
│        │ 荣誉表彰数量充足，级别较高       │ │
│        └─────────────────────────────────┘ │
│                                              │
│  总体评价: (必填)                            │
│  ┌───────────────────────────────────────┐ │
│  │ 该教研室整体表现优秀，各项指标均达标， │ │
│  │ 建议继续保持并加强教学改革项目申报。   │ │
│  └───────────────────────────────────────┘ │
│                                              │
│  [保存草稿] [提交评分]                       │
└─────────────────────────────────────────────┘
```

**功能特点**:
- 查看AI评分和考评小组评分
- 查看完整的自评表内容
- 预览所有附件
- 分项评分和评语
- 提交后不可修改


#### 3. 最终得分确定页面

**页面布局**:

```
┌─────────────────────────────────────────────┐
│ 流程条: 高亮节点 3, 4, 5 (当前), 7           │
├─────────────────────────────────────────────┤
│ 【选择教研室】                               │
│  学院: [计算机学院 ▼]                        │
│  教研室: [软件工程教研室 ▼]                  │
│  [加载数据]                                  │
├─────────────────────────────────────────────┤
│ 【所有评审人打分记录】                       │
│  ┌───────────────────────────────────────┐ │
│  │ AI评分: 82分                           │ │
│  │ 教学过程管理: 85分                     │ │
│  │ 课程建设: 90分                         │ │
│  │ 教学改革项目: 75分                     │ │
│  │ 荣誉表彰: 80分                         │ │
│  └───────────────────────────────────────┘ │
│  ┌───────────────────────────────────────┐ │
│  │ 考评小组 - 张三 (权重: 40%)           │ │
│  │ 总分: 88分                             │ │
│  │ 教学过程管理: 90分                     │ │
│  │ 课程建设: 95分                         │ │
│  │ 教学改革项目: 80分                     │ │
│  │ 荣誉表彰: 85分                         │ │
│  │ 评语: 整体表现优秀，建议继续保持       │ │
│  └───────────────────────────────────────┘ │
│  ┌───────────────────────────────────────┐ │
│  │ 考评小组 - 李四 (权重: 40%)           │ │
│  │ 总分: 86分                             │ │
│  │ 教学过程管理: 88分                     │ │
│  │ 课程建设: 92分                         │ │
│  │ 教学改革项目: 78分                     │ │
│  │ 荣誉表彰: 82分                         │ │
│  │ 评语: 表现良好，教学改革有待加强       │ │
│  └───────────────────────────────────────┘ │
│  ┌───────────────────────────────────────┐ │
│  │ 考评办公室 - 王五 (权重: 20%)         │ │
│  │ 总分: 85分                             │ │
│  │ 教学过程管理: 87分                     │ │
│  │ 课程建设: 90分                         │ │
│  │ 教学改革项目: 77分                     │ │
│  │ 荣誉表彰: 83分                         │ │
│  │ 评语: 符合考评标准，继续保持           │ │
│  └───────────────────────────────────────┘ │
├─────────────────────────────────────────────┤
│ 【综合计算建议】                             │
│  加权平均分: 86.2分                          │
│  (88×40% + 86×40% + 85×20%)                 │
├─────────────────────────────────────────────┤
│ 【确定最终得分】                             │
│  最终得分: [____] 分 (必填)                  │
│                                              │
│  汇总说明: (必填)                            │
│  ┌───────────────────────────────────────┐ │
│  │ 综合AI评分、考评小组评分和考评办公室评 │ │
│  │ 分，该教研室最终得分确定为86分。各项指 │ │
│  │ 标表现均衡，建议继续保持并加强教学改革 │ │
│  │ 项目申报工作。                         │ │
│  └───────────────────────────────────────┘ │
│                                              │
│  [保存] [确定并提交]                         │
└─────────────────────────────────────────────┘
```

**功能特点**:
- 查看所有评审人打分记录
- 自动计算加权平均分
- 手动确定最终得分
- 填写汇总说明
- 提交后不可修改


#### 4. 异常数据处理页面

**页面布局**:

```
┌─────────────────────────────────────────────┐
│ 【异常数据列表】(3项待处理)                  │
│  ┌───────────────────────────────────────┐ │
│  │ ⚠️ 异常类型: 数量不匹配                │ │
│  │ 教研室: 网络工程教研室                 │ │
│  │ 指标: 教学改革项目                     │ │
│  │ 自评表填写: 3项                        │ │
│  │ 附件解析: 2项                          │ │
│  │ 详细说明:                              │ │
│  │ 自评表填写3项教学改革项目，但附件仅解析│ │
│  │ 出2份证书，可能存在以下情况:           │ │
│  │ 1. 有1项未上传证书                     │ │
│  │ 2. 有1份证书AI未能正确识别             │ │
│  │                                        │ │
│  │ 附件列表:                              │ │
│  │ • 省级教改项目证书.pdf [预览]          │ │
│  │ • 校级教改项目证书.pdf [预览]          │ │
│  │                                        │ │
│  │ 处理方式:                              │ │
│  │ ○ 打回教研室补充材料                   │ │
│  │   驳回原因: ┌───────────────────────┐│ │
│  │            │ 请补充第3项教学改革项目 ││ │
│  │            │ 的证书材料              ││ │
│  │            └───────────────────────┘│ │
│  │                                        │ │
│  │ ● 直接修正异常数据                     │ │
│  │   修正后数量: [2] 项                   │ │
│  │   修正说明: ┌───────────────────────┐│ │
│  │            │ 经核实，实际只有2项教学 ││ │
│  │            │ 改革项目，自评表填写有误││ │
│  │            └───────────────────────┘│ │
│  │                                        │ │
│  │ [确认处理] [取消]                      │ │
│  └───────────────────────────────────────┘ │
├─────────────────────────────────────────────┤
│ 【已处理异常】(5项)                          │
│  • 软件工程教研室 - 荣誉表彰 (已修正)       │
│  • 计算机科学教研室 - 教学改革项目 (已打回) │
│  ...                                         │
└─────────────────────────────────────────────┘
```

**功能特点**:
- 显示详细的异常对比说明
- 预览相关附件
- 两种处理方式：打回或修正
- 记录处理结果和说明

#### 5. 发起公示页面

**页面布局**:

```
┌─────────────────────────────────────────────┐
│ 流程条: 高亮节点 3, 4, 5, 7 (当前)           │
├─────────────────────────────────────────────┤
│ 【公示前检查】                               │
│  ✓ 所有教研室已完成最终得分确定 (30/30)     │
│  ✓ 所有异常数据已处理 (0项待处理)           │
│  ✓ 已同步至校长办公会 (30/30)               │
│  ✓ 校长办公会已审定通过                     │
├─────────────────────────────────────────────┤
│ 【公示范围】                                 │
│  ○ 全校公示 (所有教研室可见)                │
│  ○ 特定范围公示                             │
│    选择学院: □ 计算机学院                   │
│                □ 电子学院                   │
│                □ 机械学院                   │
│                ...                          │
├─────────────────────────────────────────────┤
│ 【公示时间】                                 │
│  开始时间: [2024-12-20 09:00]               │
│  结束时间: [2024-12-27 17:00]               │
│  公示期: 7天                                 │
├─────────────────────────────────────────────┤
│ 【公示内容预览】                             │
│  将公示以下内容:                             │
│  • 各教研室最终得分                          │
│  • 全校排名                                  │
│  • 详细评分细则                              │
│  • 评审人打分记录                            │
│  • 系统生成的感悟总结                        │
├─────────────────────────────────────────────┤
│ [预览公示内容] [发起公示]                    │
└─────────────────────────────────────────────┘
```

**功能特点**:
- 公示前自动检查
- 选择公示范围
- 设置公示时间
- 预览公示内容
- 一键发起公示


#### 6. 数据同步页面

**页面布局**:

```
┌─────────────────────────────────────────────┐
│ 【同步准备检查】                             │
│  ✓ 已完成最终得分确定: 30个教研室            │
│  ✓ 所有异常数据已处理                        │
│  ✓ 所有附件已归档                            │
├─────────────────────────────────────────────┤
│ 【选择同步数据】                             │
│  □ 全选                                      │
│  ┌───────────────────────────────────────┐ │
│  │ □ 计算机学院 (8个教研室)              │ │
│  │   □ 软件工程教研室 (最终得分: 92分)   │ │
│  │   □ 计算机科学教研室 (最终得分: 88分) │ │
│  │   □ 人工智能教研室 (最终得分: 85分)   │ │
│  │   ...                                  │ │
│  │ □ 电子学院 (6个教研室)                │ │
│  │ □ 机械学院 (5个教研室)                │ │
│  │ ...                                    │ │
│  └───────────────────────────────────────┘ │
├─────────────────────────────────────────────┤
│ 【同步内容】                                 │
│  将同步以下数据至校长办公会:                 │
│  ✓ 自评表内容                                │
│  ✓ 所有附件                                  │
│  ✓ AI评分结果                                │
│  ✓ 所有评审人打分记录                        │
│  ✓ 最终得分和汇总说明                        │
│  ✓ 异常处理结果                              │
├─────────────────────────────────────────────┤
│ [开始同步]                                   │
├─────────────────────────────────────────────┤
│ 【同步进度】                                 │
│  正在同步: 计算机学院 - 软件工程教研室       │
│  进度: ████████████████░░░░░░ 75% (22/30)   │
│  预计剩余时间: 2分钟                         │
├─────────────────────────────────────────────┤
│ 【同步记录】                                 │
│  • 2024-12-19 14:30 - 成功同步30个教研室     │
│  • 2024-12-18 10:15 - 成功同步25个教研室     │
│  ...                                         │
└─────────────────────────────────────────────┘
```

**功能特点**:
- 批量选择同步数据
- 实时显示同步进度
- 同步失败自动重试
- 记录同步历史

### 界面配色

- **侧边栏激活色**: #ff7043 (橙红色)
- **按钮主色**: #ff7043
- **图标色**: #ff7043
- **强调文字**: #ff7043
- **警告色**: #ff9800 (异常数据)

### 交互设计

1. **批量操作**: 支持批量评分、批量同步、批量公示
2. **实时预览**: 评分时可实时预览附件
3. **操作确认**: 关键操作（确定最终得分、发起公示）需要二次确认
4. **进度提示**: 长时间操作显示进度条和预计剩余时间
5. **权限控制**: 不同操作需要不同权限，无权限时按钮置灰


---

## 🎯 共通组件设计

### 1. 流程条组件 (ProcessBar.vue)

```vue
<template>
  <div class="process-bar">
    <div 
      v-for="(step, index) in steps" 
      :key="index"
      class="process-step"
      :class="{
        'active': currentStep === index + 1,
        'completed': currentStep > index + 1,
        'highlight': highlightSteps.includes(index + 1),
        'current-role': isCurrentRoleStep(index + 1)
      }"
    >
      <div class="step-circle">
        <span v-if="currentStep > index + 1" class="check-icon">✓</span>
        <span v-else class="step-number">{{ index + 1 }}</span>
      </div>
      <div class="step-label">{{ step.label }}</div>
      <div class="step-line" v-if="index < steps.length - 1"></div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { computed } from 'vue'

interface Step {
  label: string
  roleSteps: string[] // 哪些角色参与此步骤
}

const props = defineProps<{
  currentStep: number
  userRole: 'teacher' | 'director' | 'college_leader' | 'academic_affairs'
}>()

const steps: Step[] = [
  { label: '自评填报', roleSteps: ['teacher', 'director'] },
  { label: '材料上传', roleSteps: ['teacher', 'director'] },
  { label: 'AI评分', roleSteps: ['director', 'academic_affairs'] },
  { label: '手动评分', roleSteps: ['academic_affairs'] },
  { label: '最终得分', roleSteps: ['academic_affairs'] },
  { label: '数据审定', roleSteps: [] }, // 校长办公会
  { label: '结果公示', roleSteps: ['academic_affairs'] },
  { label: '改进闭环', roleSteps: ['teacher', 'director', 'college_leader'] }
]

const highlightSteps = computed(() => {
  return steps
    .map((step, index) => step.roleSteps.includes(props.userRole) ? index + 1 : null)
    .filter(step => step !== null) as number[]
})

const isCurrentRoleStep = (stepNumber: number) => {
  return highlightSteps.value.includes(stepNumber)
}
</script>

<style scoped>
.process-bar {
  display: flex;
  justify-content: space-between;
  padding: 2rem;
  background: white;
  border-radius: 8px;
  margin-bottom: 2rem;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
}

.process-step {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  position: relative;
}

.step-circle {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: #e0e0e0;
  color: #999;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 600;
  margin-bottom: 0.5rem;
  transition: all 0.3s;
  z-index: 2;
}

.process-step.completed .step-circle {
  background: #7cb342;
  color: white;
}

.process-step.active .step-circle {
  background: #2c4a6d;
  color: white;
  box-shadow: 0 0 0 4px rgba(44, 74, 109, 0.2);
}

.process-step.highlight .step-circle {
  border: 3px solid #ff9800;
}

.process-step.current-role.active .step-circle {
  animation: pulse 2s infinite;
}

@keyframes pulse {
  0%, 100% {
    box-shadow: 0 0 0 4px rgba(44, 74, 109, 0.2);
  }
  50% {
    box-shadow: 0 0 0 8px rgba(44, 74, 109, 0.1);
  }
}

.step-label {
  font-size: 0.9rem;
  color: #666;
  text-align: center;
}

.process-step.active .step-label {
  color: #2c4a6d;
  font-weight: 600;
}

.step-line {
  position: absolute;
  top: 20px;
  left: 50%;
  width: 100%;
  height: 2px;
  background: #e0e0e0;
  z-index: 1;
}

.process-step.completed .step-line {
  background: #7cb342;
}
</style>
```


### 2. 角色侧边栏组件 (RoleSidebar.vue)

```vue
<template>
  <div class="role-sidebar" :class="`role-${userRole}`">
    <div class="sidebar-header" @click="goToHome">
      <img src="/school-logo.jpg" alt="校徽" class="sidebar-logo" />
      <h2 class="sidebar-title">教研室数据管理平台</h2>
      <div class="role-badge">{{ roleName }}</div>
    </div>
    
    <div class="sidebar-menu">
      <div 
        v-for="(item, index) in menuItems" 
        :key="index"
        class="menu-group"
      >
        <div class="menu-group-title">
          <el-icon><component :is="item.icon" /></el-icon>
          <span>{{ item.title }}</span>
        </div>
        <div 
          v-for="(subItem, subIndex) in item.children" 
          :key="subIndex"
          class="menu-item"
          :class="{ active: activeMenu === subItem.route }"
          @click="navigateTo(subItem.route)"
        >
          <span class="menu-item-text">{{ subItem.name }}</span>
        </div>
      </div>
    </div>
    
    <div class="sidebar-footer">
      <div class="user-info">
        <el-icon class="user-avatar"><User /></el-icon>
        <div class="user-details">
          <span class="user-name">{{ userName }}</span>
          <span class="user-role">{{ roleName }}</span>
        </div>
      </div>
      <el-button text @click="logout">退出登录</el-button>
    </div>
  </div>
</template>

<script setup lang="ts">
import { computed } from 'vue'
import { useRouter } from 'vue-router'
import { User } from '@element-plus/icons-vue'

const props = defineProps<{
  userRole: 'teacher' | 'director' | 'college_leader' | 'academic_affairs'
  userName: string
  activeMenu: string
}>()

const router = useRouter()

const roleName = computed(() => {
  const roleMap = {
    teacher: '普通教师',
    director: '教研室负责人',
    college_leader: '二级学院负责人',
    academic_affairs: '学校教务处负责人'
  }
  return roleMap[props.userRole]
})

// 根据角色返回不同的菜单
const menuItems = computed(() => {
  // 这里根据角色返回不同的菜单结构
  // 实际实现时从配置文件或API获取
  return []
})

const navigateTo = (route: string) => {
  router.push(route)
}

const goToHome = () => {
  router.push('/')
}

const logout = () => {
  // 退出登录逻辑
}
</script>

<style scoped>
.role-sidebar {
  width: 220px;
  background: #1e3a5f;
  display: flex;
  flex-direction: column;
  position: fixed;
  left: 0;
  top: 0;
  bottom: 0;
  z-index: 1000;
}

/* 不同角色的激活色 */
.role-sidebar.role-teacher .menu-item.active {
  border-left-color: #42a5f5;
  background: rgba(66, 165, 245, 0.1);
}

.role-sidebar.role-director .menu-item.active {
  border-left-color: #66bb6a;
  background: rgba(102, 187, 106, 0.1);
}

.role-sidebar.role-college_leader .menu-item.active {
  border-left-color: #ab47bc;
  background: rgba(171, 71, 188, 0.1);
}

.role-sidebar.role-academic_affairs .menu-item.active {
  border-left-color: #ff7043;
  background: rgba(255, 112, 67, 0.1);
}

.sidebar-header {
  padding: 1.5rem 1rem;
  text-align: center;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  cursor: pointer;
}

.sidebar-logo {
  width: 60px;
  height: 60px;
  object-fit: contain;
  border-radius: 8px;
  margin-bottom: 0.5rem;
}

.sidebar-title {
  color: white;
  font-size: 1rem;
  font-weight: 600;
  margin: 0.5rem 0;
}

.role-badge {
  display: inline-block;
  padding: 0.25rem 0.75rem;
  background: rgba(255, 255, 255, 0.2);
  color: white;
  border-radius: 12px;
  font-size: 0.75rem;
  margin-top: 0.5rem;
}

.sidebar-menu {
  flex: 1;
  padding: 1rem 0;
  overflow-y: auto;
}

.menu-group {
  margin-bottom: 1rem;
}

.menu-group-title {
  display: flex;
  align-items: center;
  padding: 0.75rem 1rem;
  color: rgba(255, 255, 255, 0.9);
  font-size: 0.85rem;
  font-weight: 600;
}

.menu-group-title .el-icon {
  margin-right: 0.5rem;
  font-size: 1.1rem;
}

.menu-item {
  padding: 0.75rem 1rem 0.75rem 2.5rem;
  color: rgba(255, 255, 255, 0.7);
  cursor: pointer;
  transition: all 0.3s;
  border-left: 3px solid transparent;
  font-size: 0.9rem;
}

.menu-item:hover {
  background: rgba(255, 255, 255, 0.05);
  color: white;
}

.sidebar-footer {
  padding: 1rem;
  border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.user-info {
  display: flex;
  align-items: center;
  padding: 0.75rem;
  background: rgba(255, 255, 255, 0.05);
  border-radius: 8px;
  color: white;
  margin-bottom: 0.5rem;
}

.user-avatar {
  font-size: 2rem;
  margin-right: 0.75rem;
}

.user-details {
  display: flex;
  flex-direction: column;
}

.user-name {
  font-size: 0.95rem;
  font-weight: 600;
}

.user-role {
  font-size: 0.75rem;
  color: rgba(255, 255, 255, 0.7);
}
</style>
```


### 3. 顶部导航栏组件 (TopNavBar.vue)

```vue
<template>
  <div class="top-nav-bar">
    <div class="breadcrumb">
      <el-breadcrumb separator="/">
        <el-breadcrumb-item :to="{ path: '/' }">首页</el-breadcrumb-item>
        <el-breadcrumb-item v-for="(item, index) in breadcrumbs" :key="index">
          {{ item }}
        </el-breadcrumb-item>
      </el-breadcrumb>
    </div>
    
    <div class="nav-actions">
      <el-button text @click="refreshData">
        <el-icon><Refresh /></el-icon>
        刷新
      </el-button>
      <el-button text @click="showHelp">
        <el-icon><QuestionFilled /></el-icon>
        帮助
      </el-button>
      <el-dropdown>
        <span class="user-dropdown">
          <el-icon><User /></el-icon>
          {{ userName }}
          <el-icon><ArrowDown /></el-icon>
        </span>
        <template #dropdown>
          <el-dropdown-menu>
            <el-dropdown-item @click="goToProfile">个人信息</el-dropdown-item>
            <el-dropdown-item @click="goToSettings">系统设置</el-dropdown-item>
            <el-dropdown-item divided @click="logout">退出登录</el-dropdown-item>
          </el-dropdown-menu>
        </template>
      </el-dropdown>
    </div>
  </div>
</template>

<script setup lang="ts">
import { Refresh, QuestionFilled, User, ArrowDown } from '@element-plus/icons-vue'

defineProps<{
  breadcrumbs: string[]
  userName: string
}>()

const refreshData = () => {
  // 刷新数据逻辑
}

const showHelp = () => {
  // 显示帮助逻辑
}

const goToProfile = () => {
  // 跳转到个人信息页面
}

const goToSettings = () => {
  // 跳转到系统设置页面
}

const logout = () => {
  // 退出登录逻辑
}
</script>

<style scoped>
.top-nav-bar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem 2rem;
  background: white;
  border-bottom: 1px solid #e5e7eb;
}

.breadcrumb {
  flex: 1;
}

.nav-actions {
  display: flex;
  align-items: center;
  gap: 1rem;
}

.user-dropdown {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  cursor: pointer;
  padding: 0.5rem 1rem;
  border-radius: 6px;
  transition: background 0.3s;
}

.user-dropdown:hover {
  background: #f5f7fa;
}
</style>
```


---

## 📱 响应式设计

### 断点定义

```css
/* 超大屏幕 */
@media (min-width: 1920px) {
  /* 桌面显示器 */
}

/* 大屏幕 */
@media (min-width: 1366px) and (max-width: 1919px) {
  /* 笔记本电脑 */
}

/* 中等屏幕 */
@media (min-width: 768px) and (max-width: 1365px) {
  /* 平板电脑 */
  .role-sidebar {
    width: 60px; /* 收缩侧边栏 */
  }
  .sidebar-title,
  .menu-item-text,
  .user-name,
  .user-role {
    display: none; /* 隐藏文字 */
  }
}

/* 小屏幕 */
@media (max-width: 767px) {
  /* 手机 */
  .role-sidebar {
    transform: translateX(-100%); /* 隐藏侧边栏 */
  }
  .role-sidebar.open {
    transform: translateX(0); /* 点击菜单按钮显示 */
  }
  .process-bar {
    flex-direction: column; /* 流程条垂直排列 */
  }
}
```

### 移动端适配

1. **侧边栏**: 默认隐藏，点击菜单按钮显示
2. **流程条**: 垂直排列，节点间距缩小
3. **表格**: 支持横向滚动
4. **表单**: 单列布局
5. **卡片**: 单列布局

---

## 🔐 权限控制

### 权限矩阵

| 功能 | 普通教师 | 教研室负责人 | 二级学院负责人 | 学校教务处负责人 |
|------|---------|-------------|---------------|-----------------|
| 查看本教研室结果 | ✓ | ✓ | - | - |
| 填写自评表 | - | ✓ | - | - |
| 上传附件 | - | ✓ | - | - |
| 触发AI评分 | - | ✓ | - | - |
| 提交改进措施 | - | ✓ | - | - |
| 查看全院数据 | - | - | ✓ | ✓ |
| 审核改进措施 | - | - | ✓ | - |
| 督导整改 | - | - | ✓ | - |
| 手动评分 | - | - | - | ✓ |
| 确定最终得分 | - | - | - | ✓ |
| 处理异常数据 | - | - | - | ✓ |
| 发起公示 | - | - | - | ✓ |
| 数据同步 | - | - | - | ✓ |
| 系统管理 | - | - | - | ✓ |

### 权限实现

```typescript
// 权限检查函数
function hasPermission(
  userRole: string, 
  action: string
): boolean {
  const permissions = {
    teacher: ['view_own_result', 'view_feedback'],
    director: ['view_own_result', 'fill_evaluation', 'upload_attachment', 
               'trigger_ai_scoring', 'submit_improvement'],
    college_leader: ['view_college_data', 'review_improvement', 'supervise'],
    academic_affairs: ['view_all_data', 'manual_scoring', 'final_score', 
                       'handle_anomaly', 'publish', 'sync', 'system_manage']
  }
  
  return permissions[userRole]?.includes(action) || false
}

// 在组件中使用
<el-button 
  v-if="hasPermission(userRole, 'manual_scoring')"
  @click="startScoring"
>
  开始评分
</el-button>
```


---

## 🎨 视觉设计细节

### 1. 卡片设计

```css
.info-card {
  background: white;
  border-radius: 12px;
  padding: 1.5rem;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
  transition: all 0.3s;
}

.info-card:hover {
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
  transform: translateY(-2px);
}

.info-card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1rem;
  padding-bottom: 1rem;
  border-bottom: 1px solid #e5e7eb;
}

.info-card-title {
  font-size: 1.1rem;
  font-weight: 600;
  color: #333;
}

.info-card-body {
  color: #666;
  line-height: 1.6;
}
```

### 2. 按钮设计

```css
/* 主要按钮 - 根据角色变色 */
.btn-primary {
  padding: 0.75rem 1.5rem;
  border-radius: 6px;
  font-weight: 600;
  transition: all 0.3s;
  border: none;
  cursor: pointer;
}

.role-teacher .btn-primary {
  background: #42a5f5;
  color: white;
}

.role-teacher .btn-primary:hover {
  background: #1e88e5;
}

.role-director .btn-primary {
  background: #66bb6a;
  color: white;
}

.role-director .btn-primary:hover {
  background: #4caf50;
}

.role-college_leader .btn-primary {
  background: #ab47bc;
  color: white;
}

.role-college_leader .btn-primary:hover {
  background: #9c27b0;
}

.role-academic_affairs .btn-primary {
  background: #ff7043;
  color: white;
}

.role-academic_affairs .btn-primary:hover {
  background: #ff5722;
}

/* 次要按钮 */
.btn-secondary {
  padding: 0.75rem 1.5rem;
  border-radius: 6px;
  font-weight: 600;
  background: white;
  border: 1px solid #e5e7eb;
  color: #666;
  cursor: pointer;
  transition: all 0.3s;
}

.btn-secondary:hover {
  background: #f5f7fa;
  border-color: #d1d5db;
}

/* 危险按钮 */
.btn-danger {
  padding: 0.75rem 1.5rem;
  border-radius: 6px;
  font-weight: 600;
  background: #f44336;
  color: white;
  border: none;
  cursor: pointer;
  transition: all 0.3s;
}

.btn-danger:hover {
  background: #d32f2f;
}
```

### 3. 表单设计

```css
.form-group {
  margin-bottom: 1.5rem;
}

.form-label {
  display: block;
  margin-bottom: 0.5rem;
  font-weight: 600;
  color: #333;
}

.form-label.required::after {
  content: '*';
  color: #f44336;
  margin-left: 0.25rem;
}

.form-input {
  width: 100%;
  padding: 0.75rem;
  border: 1px solid #d1d5db;
  border-radius: 6px;
  font-size: 0.95rem;
  transition: all 0.3s;
}

.form-input:focus {
  outline: none;
  border-color: #2c4a6d;
  box-shadow: 0 0 0 3px rgba(44, 74, 109, 0.1);
}

.form-input.error {
  border-color: #f44336;
}

.form-error {
  color: #f44336;
  font-size: 0.85rem;
  margin-top: 0.25rem;
}

.form-hint {
  color: #999;
  font-size: 0.85rem;
  margin-top: 0.25rem;
}
```

### 4. 表格设计

```css
.data-table {
  width: 100%;
  background: white;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
}

.data-table thead {
  background: #f5f7fa;
}

.data-table th {
  padding: 1rem;
  text-align: left;
  font-weight: 600;
  color: #333;
  border-bottom: 2px solid #e5e7eb;
}

.data-table td {
  padding: 1rem;
  border-bottom: 1px solid #e5e7eb;
  color: #666;
}

.data-table tbody tr:hover {
  background: #f9fafb;
}

.data-table tbody tr:last-child td {
  border-bottom: none;
}
```

### 5. 状态标签设计

```css
.status-badge {
  display: inline-block;
  padding: 0.25rem 0.75rem;
  border-radius: 12px;
  font-size: 0.85rem;
  font-weight: 600;
}

.status-badge.draft {
  background: #e3f2fd;
  color: #1976d2;
}

.status-badge.submitted {
  background: #fff3e0;
  color: #f57c00;
}

.status-badge.completed {
  background: #e8f5e9;
  color: #388e3c;
}

.status-badge.rejected {
  background: #ffebee;
  color: #d32f2f;
}

.status-badge.pending {
  background: #fff9c4;
  color: #f57f17;
}
```


---

## 🚀 实施计划

### 第一阶段：基础框架搭建 (1周)

**任务**:
1. 创建四个角色的路由配置
2. 实现 RoleSidebar 组件
3. 实现 ProcessBar 组件
4. 实现 TopNavBar 组件
5. 配置角色权限系统

**交付物**:
- 基础组件库
- 路由配置文件
- 权限控制系统

### 第二阶段：普通教师界面 (3天)

**任务**:
1. 实现考评结果页面
2. 实现评分详情页面
3. 实现改进措施查看页面
4. 实现数据可视化（柱状图、雷达图）

**交付物**:
- 普通教师完整界面
- 数据可视化组件

### 第三阶段：教研室负责人界面 (1周)

**任务**:
1. 实现填写自评表页面
2. 实现上传附件页面
3. 实现触发AI评分页面
4. 实现提交改进措施页面
5. 实现表单自动保存功能

**交付物**:
- 教研室负责人完整界面
- 表单组件库
- 文件上传组件

### 第四阶段：二级学院负责人界面 (1周)

**任务**:
1. 实现全院概览页面
2. 实现教研室对比页面
3. 实现改进措施审核页面
4. 实现执行进度跟踪页面
5. 实现数据筛选和导出功能

**交付物**:
- 二级学院负责人完整界面
- 数据对比组件
- 审核流程组件

### 第五阶段：学校教务处负责人界面 (1.5周)

**任务**:
1. 实现全校概览页面
2. 实现手动评分页面
3. 实现最终得分确定页面
4. 实现异常数据处理页面
5. 实现发起公示页面
6. 实现数据同步页面

**交付物**:
- 学校教务处负责人完整界面
- 评分管理组件
- 异常处理组件
- 公示管理组件

### 第六阶段：集成测试和优化 (1周)

**任务**:
1. 四个角色界面集成测试
2. 权限控制测试
3. 流程测试
4. 性能优化
5. 响应式适配
6. 用户体验优化

**交付物**:
- 完整的四角色系统
- 测试报告
- 用户手册

**总计**: 约5.5周


---

## 📊 技术实现要点

### 1. 路由配置

```typescript
// router/index.ts
import { createRouter, createWebHistory } from 'vue-router'
import { useAuthStore } from '@/stores/auth'

const routes = [
  {
    path: '/',
    name: 'Home',
    component: () => import('@/views/Home.vue')
  },
  // 普通教师路由
  {
    path: '/teacher',
    meta: { role: 'teacher' },
    children: [
      {
        path: 'result',
        name: 'TeacherResult',
        component: () => import('@/views/teacher/Result.vue')
      },
      {
        path: 'detail',
        name: 'TeacherDetail',
        component: () => import('@/views/teacher/Detail.vue')
      },
      {
        path: 'improvement',
        name: 'TeacherImprovement',
        component: () => import('@/views/teacher/Improvement.vue')
      }
    ]
  },
  // 教研室负责人路由
  {
    path: '/director',
    meta: { role: 'director' },
    children: [
      {
        path: 'evaluation',
        name: 'DirectorEvaluation',
        component: () => import('@/views/director/Evaluation.vue')
      },
      {
        path: 'attachment',
        name: 'DirectorAttachment',
        component: () => import('@/views/director/Attachment.vue')
      },
      {
        path: 'ai-scoring',
        name: 'DirectorAIScoring',
        component: () => import('@/views/director/AIScoring.vue')
      },
      {
        path: 'improvement',
        name: 'DirectorImprovement',
        component: () => import('@/views/director/Improvement.vue')
      }
    ]
  },
  // 二级学院负责人路由
  {
    path: '/college',
    meta: { role: 'college_leader' },
    children: [
      {
        path: 'overview',
        name: 'CollegeOverview',
        component: () => import('@/views/college/Overview.vue')
      },
      {
        path: 'comparison',
        name: 'CollegeComparison',
        component: () => import('@/views/college/Comparison.vue')
      },
      {
        path: 'review',
        name: 'CollegeReview',
        component: () => import('@/views/college/Review.vue')
      },
      {
        path: 'supervision',
        name: 'CollegeSupervision',
        component: () => import('@/views/college/Supervision.vue')
      }
    ]
  },
  // 学校教务处负责人路由
  {
    path: '/academic',
    meta: { role: 'academic_affairs' },
    children: [
      {
        path: 'overview',
        name: 'AcademicOverview',
        component: () => import('@/views/academic/Overview.vue')
      },
      {
        path: 'scoring',
        name: 'AcademicScoring',
        component: () => import('@/views/academic/Scoring.vue')
      },
      {
        path: 'final-score',
        name: 'AcademicFinalScore',
        component: () => import('@/views/academic/FinalScore.vue')
      },
      {
        path: 'anomaly',
        name: 'AcademicAnomaly',
        component: () => import('@/views/academic/Anomaly.vue')
      },
      {
        path: 'publication',
        name: 'AcademicPublication',
        component: () => import('@/views/academic/Publication.vue')
      },
      {
        path: 'sync',
        name: 'AcademicSync',
        component: () => import('@/views/academic/Sync.vue')
      }
    ]
  }
]

const router = createRouter({
  history: createWebHistory(),
  routes
})

// 路由守卫 - 权限检查
router.beforeEach((to, from, next) => {
  const authStore = useAuthStore()
  
  if (to.meta.role && to.meta.role !== authStore.userRole) {
    // 无权限访问，跳转到首页
    next('/')
  } else {
    next()
  }
})

export default router
```

### 2. 状态管理

```typescript
// stores/auth.ts
import { defineStore } from 'pinia'

export const useAuthStore = defineStore('auth', {
  state: () => ({
    userId: '',
    userName: '',
    userRole: '' as 'teacher' | 'director' | 'college_leader' | 'academic_affairs',
    token: '',
    teachingOfficeId: '' // 教研室ID（如果是教研室用户）
  }),
  
  getters: {
    isLoggedIn: (state) => !!state.token,
    roleName: (state) => {
      const roleMap = {
        teacher: '普通教师',
        director: '教研室负责人',
        college_leader: '二级学院负责人',
        academic_affairs: '学校教务处负责人'
      }
      return roleMap[state.userRole] || ''
    }
  },
  
  actions: {
    async login(username: string, password: string) {
      // 调用登录API
      const response = await fetch('/api/auth/login', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ username, password })
      })
      
      const data = await response.json()
      
      this.userId = data.userId
      this.userName = data.userName
      this.userRole = data.role
      this.token = data.token
      this.teachingOfficeId = data.teachingOfficeId
      
      // 保存到localStorage
      localStorage.setItem('auth', JSON.stringify(this.$state))
    },
    
    logout() {
      this.$reset()
      localStorage.removeItem('auth')
    },
    
    loadFromStorage() {
      const auth = localStorage.getItem('auth')
      if (auth) {
        this.$state = JSON.parse(auth)
      }
    }
  }
})
```

### 3. API封装

```typescript
// api/client.ts
import { useAuthStore } from '@/stores/auth'

class APIClient {
  private baseURL = '/api'
  
  private async request(
    method: string, 
    url: string, 
    data?: any
  ): Promise<any> {
    const authStore = useAuthStore()
    
    const response = await fetch(`${this.baseURL}${url}`, {
      method,
      headers: {
        'Content-Type': 'application/json',
        'Authorization': `Bearer ${authStore.token}`
      },
      body: data ? JSON.stringify(data) : undefined
    })
    
    if (!response.ok) {
      throw new Error(`API Error: ${response.statusText}`)
    }
    
    return response.json()
  }
  
  get(url: string) {
    return this.request('GET', url)
  }
  
  post(url: string, data: any) {
    return this.request('POST', url, data)
  }
  
  put(url: string, data: any) {
    return this.request('PUT', url, data)
  }
  
  delete(url: string) {
    return this.request('DELETE', url)
  }
}

export const apiClient = new APIClient()
```


---

## 🎯 用户体验优化

### 1. 加载状态

```vue
<template>
  <div class="loading-container" v-if="loading">
    <el-icon class="loading-icon"><Loading /></el-icon>
    <p class="loading-text">{{ loadingText }}</p>
  </div>
  <div v-else>
    <!-- 实际内容 -->
  </div>
</template>

<script setup lang="ts">
import { ref } from 'vue'
import { Loading } from '@element-plus/icons-vue'

const loading = ref(true)
const loadingText = ref('加载中...')

// 模拟加载
setTimeout(() => {
  loading.value = false
}, 1000)
</script>

<style scoped>
.loading-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 400px;
}

.loading-icon {
  font-size: 3rem;
  color: #2c4a6d;
  animation: rotate 1s linear infinite;
}

@keyframes rotate {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

.loading-text {
  margin-top: 1rem;
  color: #666;
}
</style>
```

### 2. 空状态

```vue
<template>
  <div class="empty-state" v-if="isEmpty">
    <el-icon class="empty-icon"><DocumentDelete /></el-icon>
    <p class="empty-text">{{ emptyText }}</p>
    <el-button type="primary" @click="handleAction">
      {{ actionText }}
    </el-button>
  </div>
</template>

<script setup lang="ts">
import { DocumentDelete } from '@element-plus/icons-vue'

defineProps<{
  isEmpty: boolean
  emptyText: string
  actionText: string
}>()

const emit = defineEmits<{
  action: []
}>()

const handleAction = () => {
  emit('action')
}
</script>

<style scoped>
.empty-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 400px;
  color: #999;
}

.empty-icon {
  font-size: 4rem;
  margin-bottom: 1rem;
}

.empty-text {
  font-size: 1.1rem;
  margin-bottom: 1.5rem;
}
</style>
```

### 3. 操作反馈

```typescript
// utils/feedback.ts
import { ElMessage, ElMessageBox } from 'element-plus'

export const showSuccess = (message: string) => {
  ElMessage.success({
    message,
    duration: 3000,
    showClose: true
  })
}

export const showError = (message: string) => {
  ElMessage.error({
    message,
    duration: 5000,
    showClose: true
  })
}

export const showWarning = (message: string) => {
  ElMessage.warning({
    message,
    duration: 4000,
    showClose: true
  })
}

export const confirmAction = async (
  message: string,
  title: string = '确认操作'
): Promise<boolean> => {
  try {
    await ElMessageBox.confirm(message, title, {
      confirmButtonText: '确定',
      cancelButtonText: '取消',
      type: 'warning'
    })
    return true
  } catch {
    return false
  }
}
```

### 4. 操作引导

```vue
<template>
  <el-tour v-model="tourOpen" :steps="tourSteps">
    <template #default="{ current, total }">
      <div class="tour-content">
        <h3>{{ tourSteps[current].title }}</h3>
        <p>{{ tourSteps[current].description }}</p>
        <div class="tour-footer">
          <span>{{ current + 1 }} / {{ total }}</span>
          <div>
            <el-button size="small" @click="skipTour">跳过</el-button>
            <el-button 
              size="small" 
              type="primary" 
              @click="nextStep"
            >
              {{ current === total - 1 ? '完成' : '下一步' }}
            </el-button>
          </div>
        </div>
      </div>
    </template>
  </el-tour>
</template>

<script setup lang="ts">
import { ref, onMounted } from 'vue'

const tourOpen = ref(false)
const tourSteps = ref([
  {
    target: '.sidebar-menu',
    title: '侧边导航栏',
    description: '这里是主要功能菜单，点击可以切换不同的功能页面'
  },
  {
    target: '.process-bar',
    title: '流程条',
    description: '显示当前考评流程的进度，高亮的节点是您参与的环节'
  },
  {
    target: '.content-area',
    title: '主内容区',
    description: '这里显示具体的功能内容，根据您选择的菜单动态变化'
  }
])

onMounted(() => {
  // 检查是否是首次访问
  const hasSeenTour = localStorage.getItem('hasSeenTour')
  if (!hasSeenTour) {
    tourOpen.value = true
  }
})

const skipTour = () => {
  tourOpen.value = false
  localStorage.setItem('hasSeenTour', 'true')
}

const nextStep = () => {
  // Element Plus Tour 组件会自动处理
  localStorage.setItem('hasSeenTour', 'true')
}
</script>
```


---

## 📝 总结

### 设计亮点

1. **角色差异化明显**: 四个角色的界面、菜单、权限、配色完全不同，一眼就能区分
2. **流程可视化清晰**: 每个页面都有流程条，用户清楚自己在整个流程中的位置
3. **权限控制严格**: 基于角色的访问控制，确保数据安全
4. **操作引导完善**: 首次使用有操作引导，关键操作有确认提示
5. **视觉风格统一**: 采用国内高校教务系统常用的蓝色系，庄重专业
6. **响应式设计**: 支持桌面、平板、手机多种设备
7. **用户体验优良**: 加载状态、空状态、操作反馈等细节完善

### 核心特性

| 特性 | 说明 |
|------|------|
| 四角色系统 | 普通教师、教研室负责人、二级学院负责人、学校教务处负责人 |
| 流程可视化 | 8步流程条，高亮当前角色参与的节点 |
| 权限控制 | 基于角色的访问控制（RBAC） |
| 差异化配色 | 每个角色使用不同的强调色 |
| 完整工作流 | 从自评填报到改进闭环的完整流程 |
| 数据可视化 | 柱状图、雷达图、热力图等多种图表 |
| 操作引导 | 首次使用引导、帮助提示、操作确认 |
| 响应式设计 | 支持多种设备和屏幕尺寸 |

### 技术栈

- **前端框架**: Vue 3 + TypeScript
- **UI组件库**: Element Plus
- **状态管理**: Pinia
- **路由**: Vue Router
- **图表库**: ECharts
- **构建工具**: Vite
- **CSS预处理**: SCSS

### 下一步工作

1. **开发实施**: 按照实施计划分阶段开发
2. **用户测试**: 邀请真实用户进行测试，收集反馈
3. **迭代优化**: 根据用户反馈持续优化界面和交互
4. **文档完善**: 编写详细的用户手册和操作指南
5. **培训支持**: 为各角色用户提供培训和技术支持

---

**文档版本**: v1.0  
**创建日期**: 2026-02-07  
**最后更新**: 2026-02-07  
**作者**: Kiro AI Assistant

---

© 2026 教研室数据综合管理平台. All rights reserved.

