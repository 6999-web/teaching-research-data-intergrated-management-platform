# 需求文档 - 教研室工作考评系统

## 引言

本文档定义了教研室工作考评系统的功能需求。该系统实现教研室自评、AI自动评分、管理端审核评议、校长办公会审定、结果公示与分发的全流程数字化管理，提升考评效率与透明度。

## 术语表

- **教研室端**: 教师使用的系统界面，用于填写自评表、上传附件、触发AI评分、查看结果
- **管理端**: 考评小组和考评办公室使用的系统界面，用于手动评分、审核、公示操作
- **校长办公会端**: 校长办公室使用的系统界面，用于查看实时数据、审定结果
- **自评表**: 教研室填写的工作考核表，包含各项自评内容
- **AI评分**: 系统调用DeepSeek API自动解析自评表和附件进行评分
- **手动评分**: 考评小组和考评办公室进行的人工二次评分
- **异常数据**: 自评表填写个数与附件解析个数不一致的数据
- **考评小组**: 负责手动二次评分的评审组，评分权重高
- **考评办公室**: 负责复核评分、异常处理、公示操作的管理组
- **最终得分**: 考评办公室综合所有评审人打分记录后确定的得分
- **公示**: 考评结果向全体教研室公开展示的流程
- **感悟总结**: 系统基于综合考核指标自动生成的总结性评价

## 需求

### 需求 1: 教研室自评表填写

**用户故事**: 作为教研室教师，我想在线填写工作考核表，以便提交自评内容。

#### 验收标准

1. THE 教研室端 SHALL 提供在线编辑自评表的功能
2. WHEN 教师填写自评表时，THE 教研室端 SHALL 支持填写各项自评内容
3. THE 教研室端 SHALL 提供独立模块用于填写教学改革项目个数
4. THE 教研室端 SHALL 提供独立模块用于填写荣誉表彰个数
5. WHEN 教师完成表单填写时，THE 教研室端 SHALL 提供保存功能
6. WHEN 教师完成表单填写时，THE 教研室端 SHALL 提供预览功能
7. WHEN 表单填写时，THE 教研室端 SHALL 对必填项进行实时校验
8. WHEN 表单填写时，THE 教研室端 SHALL 对格式进行实时校验

### 需求 2: 附件上传管理

**用户故事**: 作为教研室教师，我想上传支撑材料附件，以便提供考评依据。

#### 验收标准

1. WHEN 教师点击表单附件栏时，THE 教研室端 SHALL 跳转至独立附件上传页面
2. THE 附件上传页面 SHALL 包含表格明确附件对应的考核指标
3. THE 教研室端 SHALL 支持多文件上传
4. THE 教研室端 SHALL 支持上传证书类文件
5. THE 教研室端 SHALL 支持上传项目类文件
6. WHEN 表单与附件全部提交后，THE 教研室端 SHALL 自动锁定表单和附件
7. WHILE 表单和附件被锁定，THE 教研室端 SHALL 禁止修改
8. IF 管理端打回补充材料，THEN THE 教研室端 SHALL 解锁表单和附件允许修改

### 需求 3: AI评分触发

**用户故事**: 作为教研室教师，我想手动触发AI评分，以便获得自动评分结果。

#### 验收标准

1. WHEN 表单与附件全部提交后，THE 教研室端 SHALL 显示"触发AI评分"按钮
2. WHEN 教师点击"触发AI评分"按钮时，THE 系统 SHALL 启动AI自动评分流程
3. WHILE 表单或附件未全部提交，THE 教研室端 SHALL 隐藏"触发AI评分"按钮
4. WHEN 按钮点击后，THE 教研室端 SHALL 显示加载提示
5. WHEN AI评分完成时，THE 教研室端 SHALL 显示成功提示
6. IF AI评分失败，THEN THE 教研室端 SHALL 显示失败提示

### 需求 4: AI自动评分处理

**用户故事**: 作为系统，我需要调用DeepSeek API进行自动评分，以便提供初步评分结果。

#### 验收标准

1. WHEN AI评分触发时，THE 系统 SHALL 调用DeepSeek API
2. WHEN AI评分时，THE 系统 SHALL 同时解析自评表文字内容
3. WHEN AI评分时，THE 系统 SHALL 同时解析附件支撑材料
4. WHEN 评分教学改革项目时，THE 系统 SHALL 对照填写个数与附件解析个数
5. WHEN 评分荣誉表彰时，THE 系统 SHALL 对照填写个数与附件解析个数
6. THE 系统 SHALL 结合预设分值标准计算分数
7. WHEN 自评表填写个数与附件解析个数不一致时，THE 系统 SHALL 自动标记为异常数据
8. WHEN 数据被标记为异常时，THE 系统 SHALL 生成清晰对比说明
9. WHEN 数据被标记为异常时，THE 系统 SHALL 同步异常信息至管理端
10. WHEN 数据被标记为异常时，THE 系统 SHALL 转人工复核流程

### 需求 5: 附件自动分类

**用户故事**: 作为系统，我需要自动对附件进行分类归档，以便管理端快速查阅。

#### 验收标准

1. WHEN AI处理附件时，THE 系统 SHALL 按考核指标自动分类附件
2. THE 系统 SHALL 支持按"教学改革项目"指标分类附件
3. THE 系统 SHALL 支持按"荣誉表彰"指标分类附件
4. WHEN 附件分类完成后，THE 管理端 SHALL 支持调整分类标签
5. THE 系统 SHALL 关联附件与对应教研室
6. THE 系统 SHALL 关联附件与对应考核指标

### 需求 6: 管理端手动评分

**用户故事**: 作为考评小组成员，我想进行手动二次评分，以便提供专业评审意见。

#### 验收标准

1. THE 管理端 SHALL 提供独立于AI评分的手动评分功能
2. WHEN 评审人提交评分时，THE 系统 SHALL 保留该评审人的原始打分记录
3. THE 系统 SHALL 禁止删除评审人打分记录
4. THE 系统 SHALL 禁止修改评审人打分记录
5. THE 管理端 SHALL 设置考评小组评分权重高于考评办公室
6. THE 管理端界面 SHALL 突出显示考评小组的评分记录
7. THE 管理端 SHALL 允许查看所有评审人打分记录

### 需求 7: 最终得分确定

**用户故事**: 作为考评办公室，我想综合所有评审人打分确定最终得分，以便完成评分汇总。

#### 验收标准

1. WHEN 考评办公室综合评审人打分时，THE 系统 SHALL 计算最终得分
2. THE 系统 SHALL 综合考评小组打分记录
3. THE 系统 SHALL 综合考评办公室打分记录
4. WHEN 最终得分确定时，THE 管理端 SHALL 允许录入最终得分
5. WHEN 最终得分录入时，THE 系统 SHALL 保留该最终得分
6. WHEN 最终得分录入时，THE 系统 SHALL 保留对应汇总说明

### 需求 8: 异常数据处理

**用户故事**: 作为考评办公室，我想处理AI标记的异常数据，以便确保评分准确性。

#### 验收标准

1. WHEN 管理端接收异常数据时，THE 管理端 SHALL 显示详细对比说明
2. THE 管理端 SHALL 提供打回教研室补充材料的选项
3. THE 管理端 SHALL 提供在审核时直接修正异常数据的选项
4. WHEN 异常数据处理完成时，THE 系统 SHALL 记录处理结果

### 需求 9: 数据同步至校长办公会

**用户故事**: 作为考评办公室，我想将考评数据上传至校长办公会端，以便审定。

#### 验收标准

1. WHEN 管理端完成二次评分和最终得分确定后，THE 管理端 SHALL 显示"上传至校长办公会"按钮
2. WHEN 点击上传按钮时，THE 系统 SHALL 通过HTTPS协议同步数据
3. WHEN 同步数据时，THE 系统 SHALL 传输所有考评数据
4. WHEN 同步数据时，THE 系统 SHALL 传输评分记录
5. WHEN 同步数据时，THE 系统 SHALL 传输附件
6. WHEN 同步数据时，THE 系统 SHALL 传输异常处理结果
7. WHEN 数据同步完成时，THE 系统 SHALL 显示成功提示
8. IF 数据同步失败，THEN THE 系统 SHALL 显示失败提示

### 需求 10: 校长办公会数据接收

**用户故事**: 作为校长办公会，我想接收管理端上传的考评数据，以便审定结果。

#### 验收标准

1. WHEN 管理端上传数据时，THE 校长办公会端 SHALL 接收所有考评数据
2. THE 校长办公会端 SHALL 确保接收评分记录完整
3. THE 校长办公会端 SHALL 确保接收附件完整
4. THE 校长办公会端 SHALL 确保接收异常处理结果完整

### 需求 11: 实时数据监控

**用户故事**: 作为校长办公会，我想查看实时考评数据，以便了解考评进展。

#### 验收标准

1. THE 校长办公会端 SHALL 以图表形式展示考评结果
2. THE 校长办公会端 SHALL 以数据看板形式展示考评结果
3. THE 校长办公会端 SHALL 显示各教研室AI评分
4. THE 校长办公会端 SHALL 显示各教研室各评审人评分
5. THE 校长办公会端 SHALL 显示各教研室最终得分
6. THE 校长办公会端 SHALL 显示各教研室历史分数变化
7. THE 校长办公会端 SHALL 显示各教研室横向对比排名
8. THE 校长办公会端 SHALL 支持按不同考核指标排序
9. THE 校长办公会端 SHALL 支持切换查看不同考核指标
10. THE 图表和数据看板 SHALL 直观展示数据
11. THE 校长办公会端 SHALL 支持数据筛选

### 需求 12: 结果审定

**用户故事**: 作为校长办公会，我想审定考评结果，以便决定是否同意公示。

#### 验收标准

1. THE 校长办公会端 SHALL 显示"审定"按钮
2. WHEN 点击审定按钮时，THE 校长办公会端 SHALL 提供"同意公示"选项
3. WHEN 点击审定按钮时，THE 校长办公会端 SHALL 提供"驳回重新审核"选项
4. WHEN 选择同意公示时，THE 系统 SHALL 同步审定结果至管理端
5. WHEN 选择同意公示时，THE 管理端 SHALL 允许考评办公室发起公示
6. WHEN 选择驳回时，THE 系统 SHALL 要求填写驳回原因
7. WHEN 选择驳回时，THE 系统 SHALL 反馈驳回原因至管理端

### 需求 13: 公示操作

**用户故事**: 作为考评办公室，我想手动发起公示，以便向全体教研室公开结果。

#### 验收标准

1. WHEN 校长办公会审定同意后，THE 管理端 SHALL 显示"发起公示"按钮
2. WHEN 考评办公室点击"发起公示"按钮时，THE 系统 SHALL 启动公示流程
3. THE 系统 SHALL 禁止自动发起公示
4. WHEN 公示启动时，THE 系统 SHALL 显示成功提示

### 需求 14: 结果分发

**用户故事**: 作为系统，我需要在公示后自动分发结果，以便各端查看最终结果。

#### 验收标准

1. WHEN 公示无异议后，THE 系统 SHALL 自动分发最终考评结果至管理端
2. WHEN 公示无异议后，THE 系统 SHALL 自动分发最终考评结果至教研室端
3. WHEN 分发至教研室端时，THE 系统 SHALL 显示最终得分
4. WHEN 分发至教研室端时，THE 系统 SHALL 显示详细评分细则
5. WHEN 分发至教研室端时，THE 系统 SHALL 显示所有评审人打分记录
6. WHEN 分发至教研室端时，THE 系统 SHALL 显示系统自动生成的感悟总结
7. WHEN 分发至管理端时，THE 系统 SHALL 显示所有教研室最终得分
8. WHEN 分发至管理端时，THE 系统 SHALL 显示审定结果

### 需求 15: 感悟总结生成

**用户故事**: 作为系统，我需要自动生成感悟总结，以便为教研室提供改进建议。

#### 验收标准

1. WHEN 结果分发时，THE 系统 SHALL 基于综合考核指标自动生成感悟总结
2. WHEN 生成感悟总结时，THE 系统 SHALL 分析各教研室得分高低
3. WHEN 生成感悟总结时，THE 系统 SHALL 分析各教研室指标达标情况
4. THE 感悟总结 SHALL 包含突出指标说明
5. THE 感悟总结 SHALL 包含待提升指标说明
6. THE 系统 SHALL 禁止人工填写感悟总结

### 需求 16: 教研室结果查看

**用户故事**: 作为教研室教师，我想查看最终考评结果，以便了解考评情况。

#### 验收标准

1. WHEN 公示完成后，THE 教研室端 SHALL 允许查看最终得分
2. WHEN 公示完成后，THE 教研室端 SHALL 允许查看详细评分细则
3. WHEN 公示完成后，THE 教研室端 SHALL 允许查看系统生成的感悟总结

### 需求 17: 全流程日志记录

**用户故事**: 作为系统管理员，我需要保留全流程操作日志，以便追溯和审计。

#### 验收标准

1. WHEN 表单提交时，THE 系统 SHALL 记录操作日志
2. WHEN AI评分时，THE 系统 SHALL 记录操作日志
3. WHEN 手动评分时，THE 系统 SHALL 记录操作日志
4. WHEN 异常处理时，THE 系统 SHALL 记录操作日志
5. WHEN 数据同步时，THE 系统 SHALL 记录操作日志
6. WHEN 审定时，THE 系统 SHALL 记录操作日志
7. WHEN 公示时，THE 系统 SHALL 记录操作日志
8. THE 操作日志 SHALL 包含操作人信息
9. THE 操作日志 SHALL 包含操作时间信息
10. THE 系统 SHALL 支持追溯每一步操作

### 需求 18: 附件归档管理

**用户故事**: 作为系统管理员，我需要长期归档附件，以便后续查阅和审计。

#### 验收标准

1. WHEN AI分类附件后，THE 系统 SHALL 支持管理端调整分类标签
2. THE 系统 SHALL 关联所有附件与对应教研室
3. THE 系统 SHALL 关联所有附件与对应考核指标
4. THE 系统 SHALL 长期归档所有附件
5. THE 管理端 SHALL 支持随时查阅附件
6. THE 管理端 SHALL 支持随时下载附件

### 需求 19: 评分记录追溯

**用户故事**: 作为系统管理员，我需要永久保留评分记录，以便后续审计和追溯。

#### 验收标准

1. THE 系统 SHALL 永久保留所有评审人打分记录
2. THE 系统 SHALL 永久保留AI评分记录
3. THE 系统 SHALL 永久保留管理端最终得分
4. THE 系统 SHALL 禁止篡改评分记录
5. THE 系统 SHALL 支持后续审计评分记录
6. THE 系统 SHALL 支持后续追溯评分记录
