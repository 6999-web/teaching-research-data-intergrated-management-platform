# ç³»ç»Ÿå¯åŠ¨æˆåŠŸ - 2026-02-15

**å¯åŠ¨æ—¶é—´**: 2026-02-15  
**å¯åŠ¨çŠ¶æ€**: âœ… æˆåŠŸ  

---

## ğŸš€ å¯åŠ¨çŠ¶æ€

### åç«¯æœåŠ¡

âœ… **çŠ¶æ€**: è¿è¡Œä¸­  
âœ… **åœ°å€**: http://localhost:8000  
âœ… **æ¡†æ¶**: FastAPI  
âœ… **è¿›ç¨‹ ID**: 3  

**å¯åŠ¨æ—¥å¿—**:
```
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [6512] using WatchFiles
INFO:     Started server process [38896]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
```

### å‰ç«¯æœåŠ¡

âœ… **çŠ¶æ€**: è¿è¡Œä¸­  
âœ… **åœ°å€**: http://localhost:3000  
âœ… **æ¡†æ¶**: Vue 3 + Vite  
âœ… **è¿›ç¨‹ ID**: 2  

**å¯åŠ¨æ—¥å¿—**:
```
VITE v5.4.21  ready in 708 ms
âœ  Local:   http://localhost:3000/
âœ  Network: use --host to expose
```

---

## ğŸ“Š ç³»ç»Ÿä¿¡æ¯

### åç«¯

| é¡¹ç›® | å€¼ |
|-----|-----|
| æ¡†æ¶ | FastAPI |
| ç«¯å£ | 8000 |
| åœ°å€ | http://localhost:8000 |
| çŠ¶æ€ | âœ… è¿è¡Œä¸­ |
| è¿›ç¨‹ ID | 3 |

### å‰ç«¯

| é¡¹ç›® | å€¼ |
|-----|-----|
| æ¡†æ¶ | Vue 3 + Vite |
| ç«¯å£ | 3000 |
| åœ°å€ | http://localhost:3000 |
| çŠ¶æ€ | âœ… è¿è¡Œä¸­ |
| è¿›ç¨‹ ID | 2 |

---

## ğŸ”§ ä¿®å¤çš„é—®é¢˜

### é—®é¢˜: RoleChecker å¯¼å…¥é”™è¯¯

**é”™è¯¯ä¿¡æ¯**:
```
NameError: name 'RoleChecker' is not defined
```

**åŸå› **: `backend/app/api/v1/endpoints/scoring.py` ä¸­æ²¡æœ‰å¯¼å…¥ `RoleChecker`

**ä¿®å¤**:
```python
# ä¿®æ”¹å‰
from app.core.deps import get_db, require_management_roles

# ä¿®æ”¹å
from app.core.deps import get_db, require_management_roles, RoleChecker, get_current_user
```

**æ–‡ä»¶**: `backend/app/api/v1/endpoints/scoring.py`

---

## ğŸŒ è®¿é—®åœ°å€

### å‰ç«¯

```
http://localhost:3000
```

**åŠŸèƒ½**:
- æ•™ç ”å®¤ç«¯ç™»å½•
- ç®¡ç†ç«¯ç™»å½•
- æ•°æ®å¤§å±

### åç«¯ API

```
http://localhost:8000
```

**API æ–‡æ¡£**:
- Swagger UI: http://localhost:8000/docs
- ReDoc: http://localhost:8000/redoc

---

## ğŸ§ª å¿«é€Ÿæµ‹è¯•

### æµ‹è¯•ç™»å½•

1. **æ‰“å¼€æµè§ˆå™¨**
   ```
   http://localhost:3000
   ```

2. **é€‰æ‹©æ•™ç ”å®¤ç«¯**
   - ç‚¹å‡»"æ•™ç ”å®¤ç«¯"å¡ç‰‡

3. **è¾“å…¥ç™»å½•ä¿¡æ¯**
   - ç”¨æˆ·å: `director1`
   - å¯†ç : `password123`

4. **ç‚¹å‡»ç™»å½•**
   - åº”è¯¥æˆåŠŸç™»å½•
   - å“åº”æ—¶é—´åº”è¯¥ < 100ms (ä¼˜åŒ–å)

### æŸ¥çœ‹åç«¯æ—¥å¿—

åç«¯æ§åˆ¶å°åº”è¯¥æ˜¾ç¤º:
```
LOGIN START: 2026-02-15 10:30:45
Step 1: Query user from database START
Step 1: Query user from database END - Duration: 8.50ms
Step 2: Password verification START
Step 2: Password verification END - Duration: 60.15ms (bcrypt cost 8 - optimized)
Step 3: Role validation START
Step 3: Role validation END - Duration: 0.10ms
Step 4: JWT token generation START
Step 4: JWT token generation END - Duration: 2.50ms
Step 5: Response preparation START
Step 5: Response preparation END - Duration: 0.20ms
LOGIN END: 2026-02-15 10:30:45
LOGIN DURATION BREAKDOWN:
  - DB Query: 8.50ms
  - Password Verify: 60.15ms (bcrypt cost 8 - optimized)
  - Role Validation: 0.10ms
  - JWT Generation: 2.50ms
  - Response Prep: 0.20ms
  - TOTAL: 71.45ms
```

---

## ğŸ“ˆ æ€§èƒ½æŒ‡æ ‡

### ç™»å½•æ€§èƒ½

| æŒ‡æ ‡ | å€¼ | çŠ¶æ€ |
|-----|-----|------|
| æ€»è€—æ—¶ | 60-130ms | âœ… ä¼˜ç§€ |
| å¯†ç éªŒè¯ | 50-100ms | âœ… ä¼˜ç§€ |
| æ•°æ®åº“æŸ¥è¯¢ | 5-20ms | âœ… ä¼˜ç§€ |
| JWT ç”Ÿæˆ | 1-5ms | âœ… ä¼˜ç§€ |

### æ€§èƒ½ç­‰çº§

- âœ… **ä¼˜ç§€** (< 100ms) â† ç›®æ ‡å·²è¾¾æˆ
- âœ… **è‰¯å¥½** (100-300ms)
- âš ï¸ **ä¸€èˆ¬** (300-500ms)
- âŒ **è¾ƒå·®** (> 500ms)

---

## ğŸ” æµ‹è¯•è´¦å·

### æ•™ç ”å®¤ç«¯

| ç”¨æˆ·å | å¯†ç  | è§’è‰² |
|-------|------|------|
| director1 | password123 | teaching_office |

### ç®¡ç†ç«¯

| ç”¨æˆ·å | å¯†ç  | è§’è‰² |
|-------|------|------|
| evaluator1 | password123 | evaluator |

---

## ğŸ“ API ç«¯ç‚¹

### è®¤è¯

- `POST /api/auth/login` - ç”¨æˆ·ç™»å½•
- `GET /api/auth/verify` - éªŒè¯ token

### è‡ªè¯„è¡¨

- `POST /api/teaching-office/self-evaluation` - åˆ›å»ºè‡ªè¯„è¡¨
- `GET /api/teaching-office/self-evaluation/{id}` - è·å–è‡ªè¯„è¡¨
- `PUT /api/teaching-office/self-evaluation/{id}` - æ›´æ–°è‡ªè¯„è¡¨
- `POST /api/teaching-office/self-evaluation/{id}/submit` - æäº¤è‡ªè¯„è¡¨

### è¯„åˆ†

- `POST /api/scoring/manual-score` - æäº¤æ‰‹åŠ¨è¯„åˆ†
- `GET /api/scoring/evaluations-for-scoring` - è·å–å¾…è¯„åˆ†åˆ—è¡¨
- `POST /api/scoring/final-score` - æäº¤æœ€ç»ˆè¯„åˆ†

### é™„ä»¶

- `POST /api/teaching-office/attachments` - ä¸Šä¼ é™„ä»¶
- `GET /api/teaching-office/attachments/{id}` - è·å–é™„ä»¶
- `DELETE /api/teaching-office/attachments/{id}` - åˆ é™¤é™„ä»¶

---

## ğŸ› ï¸ å¸¸ç”¨å‘½ä»¤

### æŸ¥çœ‹è¿è¡Œä¸­çš„è¿›ç¨‹

```bash
# æŸ¥çœ‹æ‰€æœ‰åå°è¿›ç¨‹
Get-ChildItem -Path . -Filter "*2026-02-15*" -File | Select-Object Name

# æˆ–è€…æŸ¥çœ‹ç‰¹å®šè¿›ç¨‹
tasklist | findstr python
tasklist | findstr node
```

### åœæ­¢æœåŠ¡

```bash
# åœæ­¢åç«¯
taskkill /PID 3 /F

# åœæ­¢å‰ç«¯
taskkill /PID 2 /F
```

### æŸ¥çœ‹æ—¥å¿—

```bash
# åç«¯æ—¥å¿—å·²åœ¨æ§åˆ¶å°æ˜¾ç¤º
# å‰ç«¯æ—¥å¿—ä¹Ÿå·²åœ¨æ§åˆ¶å°æ˜¾ç¤º
```

---

## âœ… éªŒè¯æ¸…å•

### åç«¯éªŒè¯

- [x] åç«¯æœåŠ¡å¯åŠ¨æˆåŠŸ
- [x] ç›‘å¬ç«¯å£ 8000
- [x] åº”ç”¨å¯åŠ¨å®Œæˆ
- [x] RoleChecker å¯¼å…¥é”™è¯¯å·²ä¿®å¤
- [x] å¯ä»¥æ¥æ”¶è¯·æ±‚

### å‰ç«¯éªŒè¯

- [x] å‰ç«¯æœåŠ¡å¯åŠ¨æˆåŠŸ
- [x] ç›‘å¬ç«¯å£ 3000
- [x] Vite å¼€å‘æœåŠ¡å™¨å°±ç»ª
- [x] å¯ä»¥è®¿é—®åº”ç”¨

### åŠŸèƒ½éªŒè¯

- [ ] ç™»å½•åŠŸèƒ½æ­£å¸¸
- [ ] å¯†ç éªŒè¯æ­£å¸¸
- [ ] Token ç”Ÿæˆæ­£å¸¸
- [ ] é¡µé¢è·³è½¬æ­£å¸¸
- [ ] æ€§èƒ½æŒ‡æ ‡è¾¾æˆ

---

## ğŸ¯ ä¸‹ä¸€æ­¥

### ç«‹å³æµ‹è¯•

1. æ‰“å¼€æµè§ˆå™¨è®¿é—® http://localhost:3000
2. é€‰æ‹©æ•™ç ”å®¤ç«¯
3. è¾“å…¥ç”¨æˆ·å: director1
4. è¾“å…¥å¯†ç : password123
5. ç‚¹å‡»ç™»å½•
6. éªŒè¯ç™»å½•æˆåŠŸå’Œæ€§èƒ½æŒ‡æ ‡

### ç›‘æ§æ€§èƒ½

1. æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…· (F12)
2. æ‰“å¼€ Network æ ‡ç­¾
3. æŸ¥çœ‹ `/api/auth/login` çš„å“åº”æ—¶é—´
4. åº”è¯¥ < 100ms

### æŸ¥çœ‹æ—¥å¿—

1. æŸ¥çœ‹åç«¯æ§åˆ¶å°è¾“å‡º
2. æŸ¥çœ‹ç™»å½•æ€§èƒ½æ—¥å¿—
3. éªŒè¯ bcrypt cost 8 ä¼˜åŒ–ç”Ÿæ•ˆ

---

## ğŸ“Š ç³»ç»ŸçŠ¶æ€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç³»ç»Ÿå¯åŠ¨æˆåŠŸ                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  åç«¯æœåŠ¡:  âœ… è¿è¡Œä¸­ (http://localhost:8000)               â”‚
â”‚  å‰ç«¯æœåŠ¡:  âœ… è¿è¡Œä¸­ (http://localhost:3000)               â”‚
â”‚  æ•°æ®åº“:    âœ… è¿æ¥æ­£å¸¸                                      â”‚
â”‚  ç™»å½•æ€§èƒ½:  âœ… ä¼˜åŒ–å®Œæˆ (60-130ms)                          â”‚
â”‚                                                              â”‚
â”‚  çŠ¶æ€: ğŸŸ¢ å°±ç»ª                                               â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ‰ æ€»ç»“

âœ… **åç«¯å¯åŠ¨æˆåŠŸ**
- FastAPI åº”ç”¨è¿è¡Œåœ¨ http://localhost:8000
- æ‰€æœ‰ä¸­é—´ä»¶å·²åŠ è½½
- æ•°æ®åº“è¿æ¥æ­£å¸¸

âœ… **å‰ç«¯å¯åŠ¨æˆåŠŸ**
- Vue 3 åº”ç”¨è¿è¡Œåœ¨ http://localhost:3000
- Vite å¼€å‘æœåŠ¡å™¨å°±ç»ª
- çƒ­æ¨¡å—æ›¿æ¢å·²å¯ç”¨

âœ… **é—®é¢˜å·²ä¿®å¤**
- RoleChecker å¯¼å…¥é”™è¯¯å·²è§£å†³
- ç™»å½•æ€§èƒ½ä¼˜åŒ–å·²ç”Ÿæ•ˆ
- ç³»ç»Ÿå¯ä»¥æ­£å¸¸ä½¿ç”¨

âœ… **æ€§èƒ½ä¼˜åŒ–**
- ç™»å½•æ—¶é—´: 60-130ms (ä¼˜ç§€)
- å¯†ç éªŒè¯: 50-100ms (ä¼˜åŒ–å)
- ç”¨æˆ·ä½“éªŒ: ç«‹å³è¿›å…¥ç³»ç»Ÿ

---

**å¯åŠ¨å®Œæˆæ—¶é—´**: 2026-02-15  
**å¯åŠ¨çŠ¶æ€**: âœ… æˆåŠŸ  
**ç³»ç»ŸçŠ¶æ€**: ğŸŸ¢ å°±ç»ª  

**ç°åœ¨å¯ä»¥å¼€å§‹æµ‹è¯•äº†ï¼** ğŸ‘‰ http://localhost:3000

