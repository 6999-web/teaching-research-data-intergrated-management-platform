# 快速修复 403 错误

## 问题原因
后端无法连接MySQL数据库，导致所有API请求返回403错误。

---

## 快速修复（3步）

### 第1步：修改MySQL密码

打开命令提示符（以管理员身份），执行：

```bash
mysql -u root -p
```

输入当前MySQL密码后，执行：

```sql
ALTER USER 'root'@'localhost' IDENTIFIED BY 'root';
FLUSH PRIVILEGES;
EXIT;
```

### 第2步：验证连接

```bash
mysql -u root -proot -e "SELECT 1;"
```

如果看到输出，说明连接成功。

### 第3步：重启后端服务

1. 找到运行后端的命令行窗口
2. 按 `Ctrl + C` 停止服务
3. 重新启动：
   ```bash
   cd backend
   python -m uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
   ```

---

## 验证修复

1. 刷新浏览器页面（http://localhost:3000）
2. 使用 `director1` / `password123` 登录
3. 应该能正常进入教研室端主页
4. 不再出现403错误

---

## 如果不知道MySQL当前密码

### 方法1：尝试常见密码
- 空密码（直接按回车）
- `123456`
- `password`
- `admin`

### 方法2：重置密码

1. 停止MySQL服务：
   ```bash
   net stop MySQL80
   ```

2. 以安全模式启动（在新的命令提示符窗口）：
   ```bash
   mysqld --console --skip-grant-tables --shared-memory
   ```

3. 在另一个命令提示符窗口连接：
   ```bash
   mysql -u root
   ```

4. 重置密码：
   ```sql
   USE mysql;
   UPDATE user SET authentication_string='' WHERE User='root';
   FLUSH PRIVILEGES;
   ALTER USER 'root'@'localhost' IDENTIFIED BY 'root';
   FLUSH PRIVILEGES;
   EXIT;
   ```

5. 关闭安全模式窗口，正常启动MySQL：
   ```bash
   net start MySQL80
   ```

---

## 还是不行？

检查后端服务的控制台输出，看是否有数据库连接错误信息。

如果看到类似这样的错误：
```
OperationalError: (1045, "Access denied for user 'root'@'localhost'")
```

说明密码还是不对，需要重新修改。

---

## 联系支持

如果以上方法都不行，请提供：
1. MySQL版本：`mysql --version`
2. 后端错误日志
3. 浏览器控制台完整错误信息
